\subsection{Zariski’s Lemma}
\label{subsection: Zariskis lemma}


\begin{lemma}
  \label{lemma: technical ring lemma}
  Let $A \subseteq B \subseteq C$ be commutative rings such that $C$ is finitely generated as an $A$-algebra.
  If  $A$ is noetherian and $C$ is finitely generated as a $B$-module then $B$ is also finitely generated as an $A$-algebra.
\end{lemma}


\begin{proof}
  We will construct a ring $B_0$ with $A \subseteq B_0 \subseteq B$ such that $B_0$ is finitely generated as an $A$-algebra, say $B_0 = A[b'_1, \dotsc, b'_s]$ for suitable $b'_i \in B_0$, and $C$ is finitely generated as an $B_0$-module.
  It then follows from Corollary~\ref{corollary: finite type preserves noetherian} that $B_0$ is noetherian because $A$ is noetherian, and that $C$ is noetherian as a $B_0$-module by Lemma~\ref{lemma: finitely generated over notherian artinian rings}.
  Then the $B_0$-submodule $B \subseteq C$ is also finitely generated as an $B_0$-module, say $B = B_0 b_1 + \dotsb + B_0 b_t$ for suitable $b_1, \dotsc, b_t \in B$.
  It then follows that $B$ is finitely generated as an $A$-algebra because
  \begin{align*}
                B
    &=          B_0 b_1 + \dotsb + B_0 b_t  \\
    &=          A[b'_1, \dotsc, b'_s] b_1 + \dotsb + A[b'_1, \dotsc, b'_s] b_t  \\
    &\subseteq  A[b'_1, \dotsc, b'_s, b_1, \dotsc, b_t]
     \subseteq  B \,.
  \end{align*}
  
  To construct $B_0$ we use that
  \[
      C
    = A[x_1, \dotsc, x_n]
    = B y_1 + \dotsb + B y_m
  \]
  for suitable $x_i, y_j \in C$.
  It then follows that there exist coefficients $b_{ij} \in B$ with
  \[
      x_i
    = \sum_{j=1}^m b_{ij} y_j
  \]
  for every $i = 1, \dotsc, n$, as well as coefficients $b_{ijk} \in B$ with
  \[
      y_i y_j
    = \sum_{k=1}^m b_{ijk} y_k
  \]
  for all $i,j = 1, \dotsc, m$.
  Let $B_0$ be the $A$-subalgebra of $B$ generated by all $b_{ij}, b_{ijk}$.
  
  Then $B_0$ is finitely generated as an $A$-algebra by construction and we need to show that $C$ is finitely generated as a $B_0$-module.
  We have that
  \[
              C
    =         A[x_1, \dotsc, x_n]
    \subseteq B_0[y_1, \dotsc, y_m]
  \]
  because $A \subseteq B_0$ and $x_i = \sum_{j=1}^m b_{ij} y_i \in B_0[y_1, \dotsc, y_m]$ for every $i = 1, \dotsc, n$.
  It further follows from $A \subseteq B_0$ and
  \[
        y_i y_j
    =   \sum_{k=1}^m b_{ijk} y_k
    \in B_0 y_1 + \dotsb + B_0 y_m
  \]
  for all $i, j = 1, \dotsc, m$ that $B_0 + B_0 y_1 + \dotsb + B_0 y_m$ is an $A$-subalgebra of $B$ which contains $y_1, \dotsc, y_m$, so that
  \[
              B_0[y_1, \dotsc, y_m]
    \subseteq B_0 + B_0 y_1 + \dotsb + B_0 y_m \,.
  \]
  Together this shows that
  \[
              C
    \subseteq B_0 + B_0 y_1 + \dotsb + B_0 y_m
    \subseteq C
  \]
  and thus $C = B_0 + B_0 y_1 + \dotsb + B_0 y_m$.
\end{proof}


\begin{lemma}
  \label{lemma: field of fractions not finitely generated}
  Let $R$ be a unique factorizaton domain which contains infinitely many non-associated primes and let $K$ be the field of fractions of $R$.
  Then $K$ is not finitely generated as an $R$-algebra.
\end{lemma}


\begin{proof}
  Let $f_1, \dotsc, f_n \in K$ with $f_i = g_i/h_i$ where $g_i, h_i \in R$ with $h_i \neq 0$.
  We have that
  \begin{align*}
                R[f_1, \dotsc, f_n]
     =          R\left[ \frac{g_1}{h_1}, \dotsc, \frac{g_n}{h_n} \right]
    &=          R\left[
                  \frac{g_1 h_2 \dotsm h_n}{h_1 \dotsm h_n},
                  \dotsc,
                  \frac{h_1 \dotsm h_{n-1} g_n}{h_1 \dotsm h_n}
                \right] \\
    &\subseteq  R\left[ \frac{1}{h_1 \dotsm h_n} \right]
  \end{align*}
  and it follows that every element $f \in R[f_1, \dotsc, f_n]$ is of the form
  \[
      f
    = \frac{g}{(h_1 \dotsm h_n)^m}
  \]
  for some $g \in R$, $m \geq 0$.
  There exists some $h \in R$ which is prime and does not divide any $h_i$ because $R$ contains infinitely many non-associated primes.
  For all $g \in R$, $m \geq 0$ it follows that $gh \neq (h_1 \dotsm h_n)^m$ and therefore that
  \[
    \frac{g}{(h_1 \dotsm h_n)^m} \neq \frac{1}{h} \,.
  \]
  This shows that $1/h \notin R[f_1, \dotsc f_n]$ and thus $R[f_1, \dotsc, f_n] \subsetneq K$.
\end{proof}


\begin{remark}
  The converse of Lemma~\ref{lemma: field of fractions not finitely generated} also holds:
  If $R$ is a unique factorization domain which contains only finitely non-associated primes $p_1, \dotsc, p_n \in R$ then $K = R[p_1^{-1}, \dotsc, p_n^{-1}]$ is finitely generated as an $R$-algebra.
\end{remark}


\begin{example}
  \label{example: rational functions finitely generated}
  If $k$ is a field and $n \geq 1$ then $k(X_1, \dotsc, X_n)$ is not finitely generated as a $k[X_1, \dotsc, X_n]$-algebra by Lemma~\ref{lemma: field of fractions not finitely generated} because $k[X_1, \dotsc, X_n]$ contains infinitely many non-associated primes.
  Then $k(X_1, \dotsc, X_n)$ is also not finitely generated as a $k$-algebra.
\end{example}


\begin{corollary}[Zariski’s lemma]
  \label{corollary: zariskis lemma}
  Let $L/k$ be a field extension.
  If $L$ is finitely generated as a $k$-algebra then the field extension $L/k$ is already finite.
\end{corollary}


\begin{proof}
  We have that $L = k[x_1, \dotsc, x_n]$ for some suitable elements $x_1, \dotsc, x_n \in L$.
  The set $\{x_1, \dotsc, x_n\}$ contains a maximal subset which is algebraically independent over $k$.
  We may assume w.l.o.g.\ that there exists some $0 \leq r \leq n$ such that $x_1, \dotsc, x_r$ are algebraically independent over $L$ while $x_1, \dotsc, x_r, x_k$ are algebraically dependent for every $r < k \leq n$.
  
  It follows for $F \defined k(x_1, \dotsc, x_r)$ that $x_{r+1}, \dotsc, x_n$ are algebraic over $F$.
  The field extension $L/F$ is therefore finite because $L = F(x_{r+1}, \dotsc, x_n)$ is generated by finitely many algebraic elements.
  
  We can now apply Lemma~\ref{lemma: technical ring lemma} to $k \subseteq F \subseteq L$ to conclude that $F$ is finitely generated as a $k$-algebra.
  We have that $F \cong k(X_1, \dotsc, X_r)$ as $k$-algebras because $x_1, \dotsc, x_r$ are algebraically independent so it follows that $k(X_1, \dotsc, X_r)$ is finitely generated as a $k$-algebra.
  By Example~\ref{example: rational functions finitely generated} this can only happen for $r = 0$.
  
  This shows that $F = k$ and that $L/F$ is finite.
\end{proof}


\begin{remark}
  Another proof of \hyperref[corollary: zariskis lemma]{Zariski’s Lemma} which uses the concept of integral dependece can be found in \cite[Corollary 5.24]{AtiyahMacdonald}.
\end{remark}

