\subsection{Characters}


\begin{fluff}
  We now revisit the theory of characters, which has many nice properties for representations of groups.
  
  If $V$ is finite-dimensional then we have previously defined its character (as a finite-dimensional $k[G]$-module) as the $k$-linear map $\chi_V \colon k[G] \to k$ given by $\chi_V(a) = \tr(\rho(a))$, where $\rho \colon k[G] \to \End_k(V)$ is the $k$-algebra homomorphism $a \mapsto (v \mapsto av)$ associated to the $k[G]$-module structure of $V$.
  We can now equivalently regard $\rho$ as a group homomorphism $G \to \GL(V)$ and the character $\chi_V$ as a map $G \to k$.
\end{fluff}


\begin{definition}
  A function $f \colon G \to k$ is a \emph{class function} if it is constant on conjugacy classes, i.e.\ if it is invariant under conjugation.
  The $k$-vector space of class function $G \to k$ is denoted by $C(G)$.
\end{definition}


\begin{lemma}
  \label{lemma: characterisation class functions}
  Let $f \colon G \to k$ be a map and let $F \colon k[G] \to k$ be its $k$-linear extension given by $F(\sum_{g \in G} a_g g) = \sum_{g \in G} a_g f(g)$.
  Then the following are equivalent:
  \begin{enumerate}
    \item
      \label{enumerate: f class function}
      The map $f$ is a class function, i.e.\ it holds that $f(h g h^{-1}) = f(g)$ for all $g, h \in G$.
    \item
      \label{enumerate: f symmetric}
      It holds that $f(gh) = f(hg)$ for all $g, h \in G$.
    \item
      \label{enumerate: F symmetric}
      It holds that $F(ab) = F(ba)$ for all $a, b \in k[G]$.
    \item
      \label{enumerate: F zero on commutator}
      The restriction $\restrict{F}{[k[G],k[G]]}$ is the zero map.
  \end{enumerate}
  If $G$ is finite we additionally have the following equivalent condition:
  \begin{enumerate}[resume]
    \item
      \label{enumerate : element of group algebra}
      The element $\sum_{g \in G} f(g) g \in k[G]$ is central.
  \end{enumerate}
\end{lemma}


\begin{proof}
  \leavevmode
  \begin{description}
    \item[\ref*{enumerate: f class function} $\implies$ \ref*{enumerate: f symmetric}]
      We have that $f(gh) = f(g^{-1} gh g) = f(hg)$.
    \item[\ref*{enumerate: f symmetric} $\implies$ \ref*{enumerate: f class function}]
      We have that $f(ghg^{-1}) = f(h g^{-1} g) = f(h)$.
    \item[\ref*{enumerate: f symmetric} $\iff$ \ref*{enumerate: F symmetric}]
      This follows from $G$ being a basis of $k[G]$.
    \item[\ref*{enumerate: F symmetric} $\iff$ \ref*{enumerate: F zero on commutator}]
      We have for all $a, b \in k[G]$ that $F([a,b]) = F(ab) - F(ba)$, so the equivalence follows from $[k[G], k[G]]$ being generated by $[a,b]$ with $a,b \in k[G]$.
    \item[\ref*{enumerate: f symmetric} $\iff$ \ref*{enumerate : element of group algebra}]
      We have for $x \defined \sum_{g \in G} f(g) g$ for every $h \in G$ that
      \[
          h x
        = \sum_{g \in G} f(h^{-1} g) g
        \quad\text{and}\quad
          x h
        = \sum_{g \in G} f(g h^{-1}) g \,.
      \]
      It follows that $x$ is central if and only if $f(h^{-1} g) = f(g h^{-1})$ for all $h \in G$.
    \qedhere
  \end{description}
\end{proof}


\begin{fluff}
  By using Lemma~\ref{lemma: characterisation class functions} we may identify $(k[G]/[k[G], k[G]])^*$ with $C(G)$, and when $G$ is finite also with $\ringcenter(k[G])$.
\end{fluff}


% TODO (optional): Same as previous identification?


\begin{proposition}
  \label{proposition: conjugacy classes and irreducible representations}
  Let $k$ be algebraically closed and let $G$ be finite with $\ringchar(k) \ndivides |G|$.
  \begin{enumerate}
    \item
      \label{enumerate: characters are basis of class functions}
     The characters of the irreducible representations of $G$ form a $k$-basis of $C(G)$.
    \item
      \label{enumerate: number of irr rep is number of conjugacy classes}
      The number of irreducible representations of $G$ coincides with the number conjugacy classes of $G$.
    \item
      \label{enumerate: number of irr rep is dim of center}
      The number of irreducible representations of $G$ coincides with $\dim_k Z(k[G])$.
  \end{enumerate}
\end{proposition}


\begin{proof}
  \leavevmode
  \begin{enumerate}
    \item
      This follows from Theorem~\ref{theorem: characters as a basis} by identifying $(k[G]/[k[G], k[G]])^*$ with $C(G)$.
    \item
      If $\mc{O}_1, \dotsc, \mc{O}_n$ are the conjugacy classes of $G$ then the characteristic functions $\chi_{\mc{O}_1}, \dotsc, \chi_{\mc{O}_n}$ form a $k$-basis of $C(G)$ so the claim follows from part~\ref*{enumerate: characters are basis of class functions}.
    \item
      This follows from part~\ref*{enumerate: characters are basis of class functions} by identifying $C(G)$ with $\ringcenter(k[G])$, as well as from Corollary~\ref{corollary: dimension of center is number of simple modules}.
    \qedhere
  \end{enumerate}
\end{proof}


\begin{remark}
  \label{remark: bilinear form on characters is bilinear extension of hom}
  Let $k$ be algebraically closed and let $G$ be finite with $\ringchar(k) \ndivides |G|$.
  
  We have shown that the number of isomorphism classes of irreducible representations of $G$ coincides with the number of conjugacy classes of $G$.
  We have done so by giving two bases of $C(G)$, namely the irreducible characters and the characteristic functions of the conjugacy classes.
  
  But it needs to be pointed out that this does not give us a bijection between $\Irr(G)$ and the conjugacy classes of $G$, and that for an arbitrary finite group $G$ with $\ringchar(k) \ndivides |G|$ there is canonical way to associate to a conjugacy class of $G$ a \enquote{corresponding} irreducible representation.
\end{remark}


\begin{example}
  \label{example: irrep of finite abelian groups}
  If $k$ is algebraically closed and $G$ is finite with $\ringchar(k) \ndivides |G|$ and abelian then $G$ has up to isomorphism precisely $|G|$ many irreducible representations.
  We can see this in various ways:
  \begin{enumerate}
    \item
      This follows from part~\ref*{enumerate: number of irr rep is number of conjugacy classes} of Proposition~\ref*{proposition: conjugacy classes and irreducible representations} because $G$ has $|G|$ conjugacy classes.
    \item
      This follows from part~\ref*{enumerate: number of irr rep is dim of center} of Proposition~\ref*{proposition: conjugacy classes and irreducible representations} because the group algebra $k[G]$ is abelian and thus $\dim_k \ringcenter(k[G]) = \dim_k k[G] = |G|$.
    \item
      This is part of Lemma~\ref*{lemma: every irrep is onedimen iff abelian iff number of irrep}.
    \item
      \dots and many more.
  \end{enumerate}
  For $G = \Integer/n_1 \times \dotsb \times \Integer/n_r$ with $n_1, \dotsc, n_r \geq 1$ we can describe the irreducible representations of $G$ explicitely:
  It follows from $\ringchar(k) \ndivides |G| = n_1 \dotsm n_r$ that $\ringchar(k) \ndivides n_i$ for all $i = 1, \dotsc, r$, which is why the $n_i$-th roots of unity $\omega_{i,1}, \dotsc, \omega_{i,n_i} \in k^\times$ are pairwise different.
  It follows from Example~\ref{example: irreducible representations for Zn} and Corollary~\ref{corollary: irr rep of products} that the irreducible representations of $G$ are given by $V_{j_1, \dotsc, j_r}$ with $j_i = 1, \dotsc, n_i$, each of which is one-dimension and with the action of $G$ being given by
  \[
      (\class{m_1}, \dotsc, \class{m_r}) . x
    = \omega_{1,j_1}^{m_1} \dotsm \omega_{r,j_r}^{m_r} x
  \]
  for all $(\class{m_1}, \dotsc, \class{m_r}) \in G$, $x \in V_{j_1, \dotsc, j_r}$.
\end{example}


% TODO (optional): Donâ€™t need outer tensor product, can directy determine group rep


\begin{example}
  \label{example: conjugacy classes of symmetric group}
  The conjugacy classes of the symmetric group $S_n$ correspond bijectively to partitions of $n$, as we will now explain:
  
  We can write every permutation $\pi \in S_n$ as a product of cycles
  \[
      \pi
    = \left( x^1_1, \dotsc, x^1_{n_1} \right)
      \dotsm
      \left( x^r_1, \dotsc, x^r_{n_r} \right)
  \]
  with $n_1 \geq \dotsb \geq n_r \geq 1$, and this decomposition is unique up to permutation of cycles of the same length as well as cyclic permuation of $x^i_1, \dotsc, x^i_{n_i}$.
  It follows that the partition $(n_1, \dotsc, n_r)$ of $n$ does only depend on $\pi$ and not on the choice of decomposition.
  This partition is the \emph{cycle type} of $\pi$.
  For every $\sigma \in S_n$ we have that
  \[
      \sigma \pi \sigma^{-1}
    = \left( \sigma(x^1_1), \dotsc, \sigma(x^1_{n_1}) \right)
      \dotsm
      \left( \sigma(x^r_1), \dotsc, \sigma(x^r_{n_r}) \right) \,,
  \]
  which shows that conjugated permutations have the same cycle type.
  The converse also holds:
  
  \begin{claim}
    Two permutations $\pi_1, \pi_2 \in S_n$ are conjugated if and only if they have the same cycle type.
  \end{claim}
  
  \begin{proof}
    We have already seen that conjugated permutations have the same cycle type.
    Suppose on the other hand that $\pi_1, \pi_2 \in S_n$ have the same cycle type $(n_1, \dotsc, n_r)$.
    Then both $\pi_1$ and $\pi_2$ are conjugated to the permutation
    \[
              (1, \dotsc, n_1)
      \cdot   (n_1 + 1, \dotsc, n_1 + n_2)
      \dotsm  (n_1 + \dotsb + n_{r-1} + 1, \dotsc, n_1 + \dotsb + n_r) \,,
    \]
    and are therefore also conjugated to each other.
  \end{proof}
  We thus find that the permutations
  \[
            (1, \dotsc, n_1)
    \cdot   (n_1 + 1, \dotsc, n_1 + n_2)
    \dotsm  (n_1 + \dotsb + n_{r-1} + 1, \dotsc, n_1 + \dotsb + n_r) \,,
  \]
  with $(n_1, \dotsc, n_r) \in \Par(n)$ are a set of representatives of the conjugacy classes of $S_n$.
  
  It follows that the number of irreducible representations of $S_n$ over an algebraically closed field $k$ with $\ringchar(k) \ndivides |S_n| = n!$ (i.e.\ $\ringchar(k) = 0$ or $\ringchar(k) > n$) is precisely the number of partitions of $n$.
\end{example}



\subsubsection{Orthogonality of Irreducible Characters}


\begin{conventions}
  In the following $V, W$ denote finite-dimensional representations of $G$ over $k$.
\end{conventions}

\begin{lemma}
  \label{lemma: more characters for groups}
  \leavevmode
  \begin{enumerate}
    \item
      We have that $\chi_{V \tensor W}(g) = \chi_V(g) \chi_W(g) = (\chi_V \chi_W)(g)$ for every $g \in G$.
    \item
      We have that $\chi_{V^*}(g) = \chi_V(g^{-1})$ for every $g \in G$.
    \item
      We have that $\chi_{\Hom(V, W)}(g) = \chi_V(g^{-1}) \chi_W(g)$ for every $g \in G$.
    \item
      If $k = \Complex$ then $\chi_V(g^{-1}) = \overline{\chi_V(g)}$ for every $g \in G$.
  \end{enumerate}
\end{lemma}


\begin{proof}
  Let $\rho_V \colon G \to \GL(V)$ and $\rho_W \colon G \to \GL(W)$ be the corresponding group homomorphisms.
  \begin{enumerate}
    \item
      For every $g \in G$ the action of $g$ on $V \tensor W$ is given by $\rho_V(g) \tensor \rho_W(g)$ and it follows that
      \[
          \chi_{V \tensor W}(g)
        = \tr( \rho_V(g) \tensor \rho_W(g) )
        = \tr( \rho_V(g) ) \tr( \rho_W(g) )
        = \chi_V(g) \chi_W(g) \,.
      \]
    \item
      The action of $g \in G$ on $V^*$ is given by $\rho(g^{-1})^*$ and it follows that
      \[
          \chi_{V^*}(g)
        = \tr \rho_V(g^{-1})^*
        = \tr \rho_V(g^{-1})
        = \chi_V(g^{-1}) \,.
      \]
    \item
      This follows from the previous two parts because $\Hom(V,W) \cong V^* \otimes W$ as seen in Example~\ref{example: isomorphisms for representations}.
    \item
      We have seen in \ref*{fluff: orthogonality proof of Maschke} that there exists a $G$-invariant inner product $\innerp{-,-}$ on $V$.
      It follows that $\rho_V(g)$ is unitary with respect to $\innerp{-,-}$ for every $g \in G$.
      It further follows from linear algebra that $\rho_V(g)$ is diagonalizable with eigenvalues $\lambda_1, \dotsc, \lambda_n \in \Complex$ for which $|\lambda_i| = 1$ for all $i = 1, \dotsc, n$.
      Then $\rho(g)^{-1}$ is diagonalizable with eigenvalues $\lambda_1^{-1}, \dotsc, \lambda_n^{-1}$ and it follows that
      \begin{align*}
          \chi_V(g^{-1})
        &= \tr \rho_V(g^{-1})
         = \tr \rho_V(g)^{-1}
         = \sum_{i=1}^n \lambda_i^{-1}  \\
        &= \sum_{i=1}^n \overline{\lambda_i}
         = \overline{ \sum_{i=1}^n \lambda_i }
         = \overline{ \tr \rho_V(g) }
         = \overline{ \chi_V(g) }
      \end{align*}
      as claimed.
    \qedhere
  \end{enumerate}
\end{proof}


\begin{conventions}
  In the following $G$ is finite with $\ringchar(k) \ndivides |G|$.
\end{conventions}


\begin{lemma}
  \label{lemma: dimension of invariants via character}
  We have that
  \[
      \dim V^G
    = \frac{1}{|G|} \sum_{g \in G} \chi_V(g) \,.
  \]
\end{lemma}


\begin{proof}
  The Reynolds~operator $R \colon V \to V$ given by
  \[
              R(v)
    \defined  \frac{1}{|G|} \sum_{g \in G} g.v
  \]
  is a projection onto $V^G$, which is why
  \[
      \dim V^G
    = \tr R \,.
  \]
  Note that $R = |G|^{-1} \sum_{g \in G} \rho(g)$ where $\rho \colon G \to \GL(V)$ is the group homomorphism corresponding to the representation $V$.
  It follows that
  \[
      \dim V^G
    = \tr R
    = \frac{1}{|G|} \sum_{g \in G} \tr \rho(g)
    = \frac{1}{|G|} \sum_{g \in G} \chi_V(g)
  \]
  as desired.
\end{proof}


% TODO (optional): projection onto invariants expressed by characters.


\begin{corollary}
  \label{corollary: dim of Hom via characters}
  We have that
  \[
      \dim \Hom_G(V,W)
    = \frac{1}{|G|} \sum_{g \in G} \chi_V(g^{-1}) \chi_W(g) \,.
  \]
\end{corollary}


\begin{proof}
  It follows from Lemma~\ref{lemma: dimension of invariants via character} that
  \begin{align*}
        \dim \Hom_G(V,W)
     =  \dim \Hom(V,W)^G
    &=  \frac{1}{|G|} \sum_{g \in G} \chi_{\Hom(V,W)}(g)  \\
    &=  \frac{1}{|G|} \sum_{g \in G} \chi_V(g^{-1}) \chi_W(g)
  \end{align*}
  as claimed.
\end{proof}



\begin{fluff}
  We set
  \[
              (f_1, f_2)
    \defined  \frac{1}{|G|} \sum_{g \in G} f_1(g^{-1}) f_2(g)
  \]
  for all $f_1, f_2 \in C(G)$.
  Then $(-,-)$ is a symmetric bilinear form on $C(G)$ and we have shown that
  \[
      (\chi_V, \chi_W)
    = \dim \Hom_G(V,W) \,.
  \]
\end{fluff}


\begin{theorem}
  Let $k$ be algebraically closed.
  \begin{enumerate}
    \item
      \label{enumerate: irred char are onb}
      The irreducible characters of $G$ form an orthonormal basis of $C(G)$ with respect to the bilinear form $(-,-)$.
    \item
      If $V \cong V_1^{\oplus n_1} \oplus \dotsb \oplus V_r^{\oplus n_r}$ and $W \cong V_1^{\oplus m_1} \oplus \dotsb \oplus V_r^{\oplus m_r}$ for pairwise non-isomorpic irreducible representations $V_1, \dotsc, V_r$ and $n_1, \dotsc, n_r, m_1, \dotsc, m_r \geq 0$ then
      \[
          (\chi_V, \chi_W)
        = \sum_{i=1}^r n_i m_i \,.
      \]
      It follows in particular that $(\chi_{V_i}, \chi_V) = n_i$ is the multiplicity of $V_i$ in $V$.
    \item
      If $\ringchar(k) = 0$ then the representation $V$ is irreducible if and only if $(\chi_V, \chi_V) = 1$.
  \end{enumerate}
\end{theorem}


\begin{proof}
  \leavevmode
  \begin{enumerate}
    \item
      The irreducible characters form a basis of $C(G)$ by Propositon~\ref{proposition: conjugacy classes and irreducible representations} and they are orthonormal with respect to $(-,-)$ by Corollary~\ref{corollary: dim of Hom via characters} and \hyperref[proposition: Schurs lemma representations]{Schurâ€™s Lemma}.
    \item
      This follows from part~\ref*{enumerate: irred char are onb} because $\chi_V = \sum_{i=1}^r n_i \chi_{V_i}$ and $\chi_W = \sum_{i=1}^r m_i \chi_{V_i}$.
    \item 
      If $V = V_1^{\oplus n_1} \oplus \dotsb \oplus V_r^{n_r}$ for pairwise non-isomorphic irreducible representations $V_1, \dotsc, V_r$ and $n_1, \dotsc, n_r \geq 0$ then
      \[
          ( \chi_V, \chi_V )
        = \sum_{i=1}^r n_i^2
      \]
      and it follows that $(\chi_V, \chi_V) = 1$ if and only if there exists some $i = 1, \dotsc, r$ with $n_i = 1$ and $n_j = 0$ for $j \neq i$.
    \qedhere
  \end{enumerate}
\end{proof}


\begin{remark}
  If $k$ is algebraically closed then $C(G)$ has the irreducible characters as a basis, so we may think about $C(G)$ as the free vector space on the isomorphism classes of irreducible representations of $G$.
  The bilinear form $(-,-)$ is then the unique $k$-bilinear extension of $\dim \Hom_G(-,-)$ and the orthonormality of the irreducible characters with respect to $(-,-)$ corresponds to the orthonormality of the isomorphism classes of irreducible representations of $G$ with respect to $\Hom_G(-,-)$.
\end{remark}


\begin{fluff}
  For $k = \Complex$ we also have an inner product $\innerp{-,-}$ on $C(G)$ which is given by
  \[
              \innerp{f_1, f_2}
    \defined  \frac{1}{|G|} \sum_{g \in G} \overline{f_1(g)} f_2(g)
  \]
  for all $f_1, f_2 \in C(G)$ and by Lemma~\ref{lemma: more characters for groups} we have that $(\chi_V, \chi_W) = \innerp{\chi_V, \chi_W}$.
   We may therefore replace $(-,-)$ by $\innerp{-,-}$ in the above discussion.
\end{fluff}




