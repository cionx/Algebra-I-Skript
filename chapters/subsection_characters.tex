\subsection{Characters}


\begin{fluff}
  We now revisit the theory of characters, which has many nice properties for representations of groups.
  
  If $V$ is finite-dimensional then we have previously defined its character (as a finite-dimensional $k[G]$-module) as the $k$-linear map $\chi_V \colon k[G] \to k$ given by $\chi_V(a) = \tr(\rho(a))$, where $\rho \colon k[G] \to \End_k(V)$ is the $k$-algebra homomorphism $a \mapsto (v \mapsto av)$ associated to the $k[G]$-module structure of $V$.
  We can now equivalently regard $\rho$ as a group homomorphism $G \to \GL(V)$ and the character $\chi_V$ as a map $G \to k$.
\end{fluff}


% \begin{corollary}\label{corollary: number of irreducible representations of finite abelian group}
%   If $k$ is algebraically closed and $G$ a finite and abelian group with $\ringchar(k) \ndivides |G|$ then $G$ has up to isomorphism exactly $|G|$ irreducible representations.
% \end{corollary}
% 
% 
% \begin{proof}
%   The group algebra $kG$ is finite-dimensional and by Maschke’s Theorem also semisimple.
%   Therefore
%   \[
%       |\Irr_k(G)|
%     = |\Irr(kG)|
%     = \dim_k (kG/[kG, kG])^*
%     = \dim_k kG/[kG, kG] \,.
%   \]
%   Since $G$ is abelian the group algebra $kG$ is commutative, so $[kG,kG] = 0$ and
%   \[
%       \dim_k kG/[kG, kG]
%     = \dim_k kG
%     = |G| \,.
%     \qedhere
%   \]
% \end{proof}


\begin{definition}
  A function $f \colon G \to k$ is a \emph{class function} if it is constant on conjugacy classes, i.e.\ if it is invariant under conjugation.
  The $k$-vector space of class function $G \to k$ is denoted by $C(G)$.
\end{definition}


\begin{lemma}
  \label{lemma: characterisation class functions}
  Let $f \colon G \to k$ be a map and let $F \colon k[G] \to k$ be its $k$-linear extension given by $F(\sum_{g \in G} a_g g) = \sum_{g \in G} a_g f(g)$.
  Then the following are equivalent:
  \begin{enumerate}
    \item \label{enum: class function}
      The map $f$ is a class function, i.e.\ it holds that $f(h g h^{-1}) = f(g)$ for all $g, h \in G$.
    \item
      It holds that $f(gh) = f(hg)$ for all $g, h \in G$.
    \item
      It holds that $F(ab) = F(ba)$ for all $a, b \in k[G]$.
    \item
      The restriction $\restrict{F}{[kG,kG]}$ is the zero map.
  \end{enumerate}
  If $G$ is finite we additionally have the following equivalent condition:
  \begin{enumerate}[resume]
    \item
      \label{enum: center of group algebra}
      The element $\sum_{g \in G} f(g) g \in k[G]$ is central.
  \end{enumerate}
\end{lemma}


% TODO: Add a proof.


\begin{fluff}
  By using Lemma~\ref{lemma: characterisation class functions} we may identify $(k[G]/[k[G], k[G]])^*$ with $C(G)$, and when $G$ is finite also with $\ringcenter(k[G])$.
\end{fluff}


% TODO: Same as previous identification.


\begin{proposition}
  \label{proposition: conjugacy classes and irreducible representations}
  Let $k$ an algebraically closed and let $G$ be finite with $\ringchar(k) \ndivides |G|$.
  \begin{enumerate}
    \item
      \label{enumerate: characters are basis of class functions}
     The characters of the irreducible representations of $G$ form a $k$-basis of $C(G)$.
    \item
      \label{enumerate: number of irr rep is number of conjugacy classes}
      The number of irreducible representations of $G$ coincides with the number conjugacy classes of $G$.
    \item
      \label{enumerate: number of irr rep is dim of center}
      The number of irreducible representations of $G$ coincides with $\dim_k Z(kG)$.
  \end{enumerate}
\end{proposition}


\begin{proof}
  \leavevmode
  \begin{enumerate}
    \item
      This follows from Theorem~\ref{theorem: characters as a basis} by identifying $(k[G]/[k[G], k[G]])^*$ with $C(G)$.
    \item
      If $\mc{O}_1, \dotsc, \mc{O}_n$ are the conjugacy classes of $G$ then the characteristic functions $\chi_{\mc{O}_1}, \dotsc, \chi_{\mc{O}_n}$ form a $k$-basis of $C(G)$ so the claim follows from part~\ref*{enumerate: characters are basis of class functions}.
    \item
      This follows from Corollary~\ref{corollary: dimension of center is number of simple modules}.
    \qedhere
  \end{enumerate}
\end{proof}


% TODO: Remark: Have no bijection between conjugacy classes and irrep.


\begin{example}
  \label{example: irrep of finite abelian groups}
  If $k$ is algebraically closed and $G$ is finite with $\ringchar(k) \ndivides |G|$ and abelian then $G$ has up to isomorphism precisely $|G|$ many irreducible representations.
  We can see this in various ways:
  \begin{enumerate}
    \item
      This follows from part~\ref*{enumerate: number of irr rep is number of conjugacy classes} of Proposition~\ref*{proposition: conjugacy classes and irreducible representations} because $G$ has $|G|$ conjugacy classes.
    \item
      This follows from part~\ref*{enumerate: number of irr rep is dim of center} of Proposition~\ref*{proposition: conjugacy classes and irreducible representations} because the group algebra $k[G]$ is abelian and thus $\dim_k \ringcenter(k[G]) = \dim_k k[G] = |G|$.
    \item
      This is part of Lemma~\ref*{lemma: every irrep is onedimen iff abelian iff number of irrep}.
    \item
      \dots and many more.
  \end{enumerate}
  For $G = \Integer/n_1 \times \dotsb \times \Integer/n_r$ with $n_1, \dotsc, n_r \geq 1$ we can describe the irreducible representations of $G$ explicitely:
  It follows from $\ringchar(k) \ndivides |G| = n_1 \dotsm n_r$ that $\ringchar(k) \ndivides n_i$ for all $i = 1, \dotsc, r$, which is why the $n_i$-th roots of unity $\omega_{i,1}, \dotsc, \omega_{i,n_i} \in k^\times$ are pairwise different.
  It follows from Example~\ref{example: irreducible representations for Zn} and Corollary~\ref{corollary: irr rep of products} that the irreducible representations of $G$ are given by $V_{j_1, \dotsc, j_r}$ with $j_i = 1, \dotsc, n_i$, each of which is one-dimension and with the action of $G$ being given by
  \[
      (\class{m_1}, \dotsc, \class{m_r}) . x
    = \omega_{1,j_1}^{m_1} \dotsm \omega_{r,j_r}^{m_r} x
  \]
  for all $(\class{m_1}, \dotsc, \class{m_r}) \in G$, $x \in V_{j_1, \dotsc, j_r}$.
\end{example}


% TODO: Don’t need outer tensor product, can directy determine group rep


\begin{example}
  \label{example: conjugacy classes of symmetric group}
  The conjugacy classes of the symmetric group $S_n$ correspond bijectively to partitions of $n$, as we will now explain:
  
  We can write every permutation $\pi \in S_n$ as a product of cycles
  \[
      \pi
    = \left( x^1_1, \dotsc, x^1_{n_1} \right)
      \dotsm
      \left( x^r_1, \dotsc, x^r_{n_r} \right)
  \]
  with $n_1 \geq \dotsb \geq n_r \geq 1$, and this decomposition is unique up to permutation of cycles of the same length as well as cyclic permuation of $x^i_1, \dotsc, x^i_{n_i}$.
  It follows that the partition $(n_1, \dotsc, n_r)$ of $n$ does only depend on $\pi$ and not on the choice of decomposition.
  This partition is the \emph{cycle type} of $\pi$.
  For every $\sigma \in S_n$ we have that
  \[
      \sigma \pi \sigma^{-1}
    = \left( \sigma(x^1_1), \dotsc, \sigma(x^1_{n_1}) \right)
      \dotsm
      \left( \sigma(x^r_1), \dotsc, \sigma(x^r_{n_r}) \right) \,,
  \]
  which shows that conjugated permutations have the same cycle type.
  The converse also holds:
  
  \begin{claim}
    Two permutations $\pi_1, \pi_2 \in S_n$ are conjugated if and only if they have the same cycle type.
  \end{claim}
  
  \begin{proof}
    We have already seen that conjugated permutations have the same cycle type.
    Suppose on the other hand that $\pi_1, \pi_2 \in S_n$ have the same cycle type $(n_1, \dotsc, n_r)$.
    Then both $\pi_1$ and $\pi_2$ are conjugated to the permutation
    \[
              (1, \dotsc, n_1)
      \cdot   (n_1 + 1, \dotsc, n_1 + n_2)
      \dotsm  (n_1 + \dotsb + n_{r-1} + 1, \dotsc, n_1 + \dotsb + n_r) \,,
    \]
    and are therefore also conjugated to each other.
  \end{proof}
  We thus find that the permutations
  \[
            (1, \dotsc, n_1)
    \cdot   (n_1 + 1, \dotsc, n_1 + n_2)
    \dotsm  (n_1 + \dotsb + n_{r-1} + 1, \dotsc, n_1 + \dotsb + n_r) \,,
  \]
  with $(n_1, \dotsc, n_r) \in \Par(n)$ are a set of representatives of the conjugacy classes of $S_n$.
  
  It follows that the number of irreducible representations of $S_n$ over an algebraically closed field $k$ with $\ringchar(k) \ndivides |S_n| = n!$ (i.e.\ $\ringchar(k) = 0$ or $\ringchar(k) > n$) is precisely the number of partitions of $n$.
\end{example}



\subsubsection{Orthogonality of Irreducible Characters}


\begin{conventions}
  In the following $V, W$ denote finite-dimensional representations of $G$ over $k$.
\end{conventions}

\begin{lemma}
  \label{lemma: more characters for groups}
  \leavevmode
  \begin{enumerate}
    \item
      We have that $\chi_{V \tensor W}(g) = \chi_V(g) \chi_W(g) = (\chi_V \chi_W)(g)$ for every $g \in G$.
    \item
      We have that $\chi_{V^*}(g) = \chi_V(g^{-1})$ for every $g \in G$.
    \item
      We have that $\chi_{\Hom(V, W)}(g) = \chi_V(g^{-1}) \chi_W(g)$ for every $g \in G$.
    \item
      If $k = \Complex$ then $\chi_V(g^{-1}) = \overline{\chi_V(g)}$ for every $g \in G$.
  \end{enumerate}
\end{lemma}


% TODO: Add a proof.


\begin{conventions}
  In the following $G$ is finite with $\ringchar(k) \ndivides |G|$.
\end{conventions}


\begin{lemma}
  \label{lemma: dimension of invariants via character}
  We have that
  \[
      \dim V^G
    = \frac{1}{|G|} \sum_{g \in G} \chi_V(g) \,.
  \]
\end{lemma}


\begin{proof}
  The Reynolds~operator $R \colon V \to V$ given by
  \[
              R(v)
    \defined  \frac{1}{|G|} \sum_{g \in G} g.v
  \]
  is a projection onto $V^G$, which is why
  \[
      \dim V^G
    = \tr R \,.
  \]
  Note that $R = |G|^{-1} \sum_{g \in G} \rho(g)$ where $\rho \colon G \to \GL(V)$ is the group homomorphism corresponding to the representation $V$.
  It follows that
  \[
      \dim V^G
    = \tr R
    = \frac{1}{|G|} \sum_{g \in G} \tr \rho(g)
    = \frac{1}{|G|} \sum_{g \in G} \chi_V(g)
  \]
  as desired.
\end{proof}


% TODO: Projectiont onto invariants expressed by characters.


\begin{corollary}
  \label{corollary: dim of Hom via characters}
  We have that
  \[
      \dim \Hom_G(V,W)
    = \frac{1}{|G|} \sum_{g \in G} \chi_V(g^{-1}) \chi_W(g) \,.
  \]
\end{corollary}


\begin{proof}
  It follows from Lemma~\ref{lemma: dimension of invariants via character} that
  \begin{align*}
        \dim \Hom_G(V,W)
     =  \dim \Hom(V,W)^G
    &=  \frac{1}{|G|} \sum_{g \in G} \chi_{\Hom(V,W)}(g)  \\
    &=  \frac{1}{|G|} \sum_{g \in G} \chi_V(g^{-1}) \chi_W(g)
  \end{align*}
  as claimed.
\end{proof}



\begin{fluff}
  We set
  \[
              (f_1, f_2)
    \defined  \frac{1}{|G|} \sum_{g \in G} f_1(g^{-1}) f_2(g)
  \]
  for all $f_1, f_2 \in C(G)$.
  Then $(-,-)$ is a symmetric bilinear form on $C(G)$ and we have shown that
  \[
      (\chi_V, \chi_W)
    = \dim \Hom_G(V,W) \,.
  \]
\end{fluff}


% TODO: Can think about (-,-) as decategorification/linearization of Hom.


\begin{theorem}
  Let $k$ be algebraically closed.
  \begin{enumerate}
    \item
      \label{enumerate: irred char are onb}
      The irreducible characters of $G$ form an orthonormal basis of $C(G)$ with respect to the bilinear form $(-,-)$.
    \item
      If $V \cong V_1^{\oplus n_1} \oplus \dotsb \oplus V_r^{\oplus n_r}$ and $W \cong V_1^{\oplus m_1} \oplus \dotsb \oplus V_r^{\oplus m_r}$ for pairwise non-isomorpic irreducible representations $V_1, \dotsc, V_r$ and $n_1, \dotsc, n_r, m_1, \dotsc, m_r \geq 0$ then
      \[
          (\chi_V, \chi_W)
        = \sum_{i=1}^r n_i m_i \,.
      \]
      It follows in particular that $(\chi_{V_i}, \chi_V) = n_i$ is the multiplicity of $V_i$ in $V$ for all $i = 1, \dotsc, r$.
    \item
      If $\ringchar(k) = 0$ then the representation $V$ is irreducible if and only if $(\chi_V, \chi_V) = 1$.
  \end{enumerate}
\end{theorem}


\begin{proof}
  \leavevmode
  \begin{enumerate}
    \item
      The irreducible characters form a basis of $C(G)$ by Propositon~\ref{proposition: conjugacy classes and irreducible representations} and they are orthonormal with respect to $(-,-)$ by Corollary~\ref{corollary: dim of Hom via characters} and \hyperref[proposition: Schurs lemma representations]{Schur’s Lemma}.
    \item
      This follows from part~\ref*{enumerate: irred char are onb} because $\chi_V = \sum_{i=1}^r n_i \chi_{V_i}$ and $\chi_W = \sum_{i=1}^r m_i \chi_{V_i}$.
    \item 
      If $V = V_1^{\oplus n_1} \oplus \dotsb \oplus V_r^{n_r}$ for pairwise non-isomorphic irreducible representations $V_1, \dotsc, V_r$ and $n_1, \dotsc, n_r \geq 0$ then
      \[
          ( \chi_V, \chi_V )
        = \sum_{i=1}^r n_i^2
      \]
      and it follows that $(\chi_V, \chi_V) = 1$ if and only if there exists some $i = 1, \dotsc, r$ with $n_i = 1$ and $n_j = 0$ for $j \neq i$.
    \qedhere
  \end{enumerate}
\end{proof}


% TODO: Add reference to previous mention of this orthogonality in the first chapter.


\begin{fluff}
  For $k = \Complex$ we also have an inner product $\innerp{-,-}$ on $C(G)$ which is given by
  \[
              \innerp{f_1, f_2}
    \defined  \frac{1}{|G|} \sum_{g \in G} \overline{f_1(g)} f_2(g)
  \]
  for all $f_1, f_2 \in C(G)$ and by Lemma~\ref{lemma: more characters for groups} we have that $(\chi_V, \chi_W) = \innerp{\chi_V, \chi_W}$.
   We may therefore replace $(-,-)$ by $\innerp{-,-}$ in the above discussion.
\end{fluff}




