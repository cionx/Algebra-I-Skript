\section{Polynomial Maps}





\subsection{Polynomial Functions}

\begin{fluff}
  In this section we introduce the notion of polynomial maps between (finite-dimensional) vector spaces and show some of their basic properties.
  
  For the rest of this section let $k$ be an infinite field.
  We denote by $V$ a finite-dimensional $k$-vector space and by $v_1, \dotsc, v_n$ a basis of $V$.
\end{fluff}


\begin{definition}
  A function $f \colon V \to k$ is \emph{polynomial} if there exists a polynomial $p \in k[X_1, \dotsc, X_n]$ with
  \[
      f\left( \lambda_1 v_1 + \dotsb + \lambda_n v_n \right)
    = p(\lambda_1, \dotsc, \lambda_n)
  \]
  for all $\lambda_1, \dotsc, \lambda_n \in k$.
  The space of polynomial functions $V \to k$ is denoted $\mc{P}_k(V)$, or by $\mc{P}(V)$ if the field is clear.
\end{definition}


\begin{fluff}
  This definition does not depend on the chosen basis.
  If $(w_1, \dotsc, w_n)$ is another basis of $V$ with $w_i = \sum_{j=1}^n a_{ij} v_j$ for all $i = 1, \dotsc, n$ then
  \begin{align*}
      f\left( \sum_{i=1}^n \lambda_i w_i \right)
    = f\left( \sum_{i,j=1}^n \lambda_i a_{ij} v_j \right)
    = p
      \left(
        \sum_{i=1}^n \lambda_i a_{i1},
        \dotsc,
        \sum_{i=1}^n a_{in} \lambda_i
      \right)
    =  p'(\lambda_1, \dotsc, \lambda_n)
  \end{align*}
  for $p' \in k[X_1, \dotsc, X_n]$ given by
  \[
      p'(X_1, \dotsc, X_n)
    = p
      \left(
        \sum_{i=1}^n a_{i1} X_i,
        \dotsc,
        \sum_{i=1}^n a_{in} X_i
      \right) \,.
  \]
  So if $f \colon V \to k$ is polynomial with respect to the basis $(v_1, \dotsc, v_n)$, then it is also polynomial with respect to the basis $(w_1, \dotsc, w_n)$.
  
  This basis independence allows us to simplify problems by choosing the right kind of basis for $V$.
  The following result can be seen as consequence of this:
\end{fluff}


\begin{corollary}
  \label{corollary: restriction of polynomial functions}
  Let $U \subseteq V$ be $k$-linear subspace.
  Then for every polynomial function $f \colon V \to k$ the restriction $f|_U \colon U \to k$ is also polynomial.
\end{corollary}
\begin{proof}
  Let $v_1, \dotsc, v_m, v_{n+1}, \dotsc, v_n$ be a basis of $V$ such that $v_1, \dotsc, v_m$ is a basis of $U$.
  There exist some polynomial $p \in k[X_1, \dotsc, X_n]$ with
  \[
      f\left( \lambda_1 v_1 + \dotsb + \lambda_n v_n \right)
    = p(\lambda_1, \dotsc, \lambda_n)
  \]
  for all $\lambda_1, \dotsc, \lambda_n \in k$ because $f$ is polynomial.
  It follows for the polynomial
  \begin{gather*}âˆ€
              \bar{p}
    \defined  p(X_1, \dotsc, X_m, 0, \dotsc, 0)
    \in       k[X_1, \dotsc, X_m]
  \shortintertext{that}
    \begin{aligned}
          f|_U\left( \lambda_1 v_1 + \dotsb + \lambda_m v_m \right)
      &=  f\left( \lambda_1 v_1 + \dotsb + \lambda_m v_m \right)  \\
      &=  p(\lambda_1, \dotsc, \lambda_m, 0, \dotsc, 0)
        =  \bar{p}(\lambda_1, \dotsc, \lambda_m)
    \end{aligned}
  \end{gather*}
  for all $\lambda_1, \dotsc, \lambda_m \in k$.
  This shows that $f|_U$ is polynomial.
\end{proof}


\begin{fluff}
  \label{fluff: polynomial to polynomial function}
  The space $\mc{P}(V)$ of polynomial functions $V \to k$ carries the structure of a $k$-algebra via pointwise addition, scalar multiplication and multiplication.
  Every polynomial $p \in k[X_1, \dotsc, X_n]$ leads to a polynomial function $f \colon V \to k$ given by
  \[
              f(\lambda_1 v_1 + \dotsb + \lambda_n v_n)
    \defined  p(\lambda_1, \dotsc, \lambda_n) \,,
  \]
  and resulting map $k[X_1, \dotsc, X_n] \to \mc{P}(V)$ is a homomorphism of $k$-algebras.
  It is surjective by the definition of a polynomial function, and injective by the following lemma:
\end{fluff}


\begin{lemma}
  \label{lemma: polynomial vanishes everywhere}
  Let $p \in k[X_1, \dotsc, X_n]$ with $p(\lambda_1, \dotsc, \lambda_n) = 0$ for all $\lambda_1, \dotsc, \lambda_n \in k$.
  Then $p = 0$.
\end{lemma}


\begin{proof}
  We show the claim by induction over $n$.
  For $n = 0$ there is nothing to do, and for $n = 1$ the claim is known from elementary algebra (note that the field $k$ is infinite).
  
  Let $n \geq 2$.
  Thanks to the the usual isomorphism
  \[
          k[X_1, \dotsc, X_n]
    =     k[X_1, \dotsc, X_{n-1}, X_n]
    \cong k[X_1, \dotsc, X_{n-1}][X_n]
  \]
  we may decompose the polynomial $p$ as
  \[
      p(X_1, \dotsc, X_n)
    = \sum_{i=0}^\infty p_i(X_1, \dotsc, X_{n-1}) X_n^i
  \]
  with $p_i \in k[X_1, \dotsc, X_{n-1}]$ for every $i$ and $p_i = 0$ for all but finitely many $i$.
  For fixed $\lambda_1, \dotsc, \lambda_{n-1}$ it follows for the polynomial
  \[
              q(X)
    \defined  p(\lambda_1, \dotsc, \lambda_{n-1}, X)
    =         \sum_{i=0}^\infty p_i(\lambda_1, \dotsc, \lambda_{n-1}) X^i
    \in       k[X]
  \]
  that $q(\lambda) = 0$ for every $\lambda \in k$.
  By induction hypothesis it follows that $q = 0$, so that
  \[
      p_i(\lambda_1, \dotsc, \lambda_{n-1})
    = 0
  \]
  for all $i$.
  As this holds for all $\lambda_1, \dotsc, \lambda_{n-1}$ it further follows by induction hypothesis that $p_i = 0$ for every $i$.
  This shows that $p = 0$.
\end{proof}


\begin{corollary}
  \label{corollary: isomorphism poylnomial ring and polynomial maps}
  The homomorphism of $k$-algebras $\Phi \colon k[X_1, \dotsc, X_n] \to \mc{P}(V)$ given by
  \[
      \Phi(p)(\lambda_1 v_1 + \dotsb + \lambda_n v_n)
    = p(\lambda_1, \dotsc, \lambda_n)
  \]
  is an isomorphism of $k$-algebras.
\end{corollary}


\begin{remark}
  Suppose that $k$ is a finite field.
  \begin{enumerate}
    \item
      Every map $f \colon V \to k$ is polynomial:
      For every $x = \lambda_1 v_1 + \dotsb + \lambda_n v_n \in V$ there exists a polynomial function $h_x \colon V \to k$ which vanishes everywhere except at $x$, namely
      \[
          h_x( \mu_1 v_1 + \dotsb + \mu_n v_n )
        = {\prod_{\substack{\nu_1 \in K \\ \nu_1 \neq \lambda_1}} (\mu_1 - \nu_1)}
          \,\dotsm\!
          \prod_{\substack{\nu_n \in K \\ \nu_n \neq \lambda_n}} (\mu_n - \nu_n) \,.
      \]
      Then the function $\delta_x = h_x / h_x(x)$ satisfies
      \[
          \delta_x(y)
        = \delta_{x,y}
      \]
      for every $y \in V$, so that $f$ can be expressed as $f = \sum_{x \in X} f(x) \delta_x$.
      
    \item
      Lemma~\ref{lemma: polynomial vanishes everywhere} does not hold for finite fields:
      Suppose that $K = \Finite_q$ is the field with $q$ elements.
      Then the nonzero polynomial $f(X) = X^q - X \in K[X]$ vanished everywhere.
      (To see this note that the group $K^\times$ has order $q-1$, so that $x^{q-1} = 1$ for every $x \in K$ with $x \neq 0$, and thus $x^q = x$ for every $x \in K$.)
      Also note that therefore $f(X) = \prod_{\lambda \in K} (X - \lambda)$ by consideration of degrees.
      
    \item
      We still have the surjective $k$-algebra homomorphism
      \[
                \Phi
        \colon  k[X_1, \dotsc, X_n]
        \to     \mc{P}(V)
        =       \Maps(V, k)
      \]
      from~\ref{fluff: polynomial to polynomial function} (where the $k$-algebra structure of $\Maps(V,k)$ is defined pointwise).
      The kernel of $\Phi$ is given by the ideal
      \[
                  I
        \defined  ( f(X_1), \dotsc, f(X_n) ) \,.
      \]
      By the above discussion we have that $I \subseteq \ker \Phi$.
      For the other inclusion note that in the case $n = 1$ we have that
      \[
          \dim_k k[X]/f(X)
        = \deg f(X)
        = q
        = |V|
        = \dim \Maps(V,k) \,,
      \]
      and more generally we have that
      \begin{gather*}
        \begin{aligned}
                  k[X_1, \dotsc, X_n]/I
          &=      k[X_1, \dotsc, X_n]/( f(X_1), \dotsc, f(X_n) )  \\
          &\cong  \bigg( \Big( \big( k[X_1]/f(X_1) \big)[X_2]/f(X_2) \Big) \dotsm \bigg)[X_n]/f(X_n)
        \end{aligned}
      \intertext{and therefore that}
          \dim_k k[X_1, \dotsc, X_n]/I
        = q^n
        = |V|
        = \dim_k \Maps(V,k) \,.
      \end{gather*}
  \end{enumerate}
\end{remark}


\begin{remark}
  Note that the constructed isomorphism $\Phi \colon k[X_1, \dotsc, X_n] \to \mc{P}(V)$ from Corollary~\ref{corollary: isomorphism poylnomial ring and polynomial maps} depends on the choice of the basis $v_1, \dotsc, v_n$.
  
  More specifillay, the basis $v_1, \dotsc, v_n$ is uniquely determined by the isomorphism $\Phi$.
  To see this note that
  \[
      \Phi(X_i)(\lambda_1 v_1 + \dotsb + \lambda_n v_n)
    = \lambda_i
  \]
  for all $i = 1, \dotsc, n$, $\lambda_1, \dotsc, \lambda \in K$.
  Hence the basis vector $v_j$ is the uniquely determined vector $v \in V$ with
  \[
      \Phi(X_i)(v)
    = \delta_{ij}
  \]
  for all $i = 1, \dotsc, n$.
  The basis $v_1, \dotsc, v_n$ is therefore uniquely determined by the images $\Phi(X_1), \dotsc, \Phi(X_n)$, which in turn are uniquely determined by $\Phi$.
\end{remark}





\subsection{Decomposition into Homogeneous Components}


\begin{fluff}
  \label{fluff: motivation for homogeneous functions}
  Through the isomorphism $\Phi \colon k[X_1, \dotsc, X_n] \to \mc{P}(V)$ the $k$-algebra $\mc{P}(V)$ inherits the grading of $k[X_1, \dotsc, X_n]$, making $\Phi$ into an isomorphism of graded $k$-algebras.
  In the following we will give an alternative construction of the resulting grading of $\mc{P}(V)$.
  This will in particular show that this grading does not depend on the choice of the basis $v_1, \dotsc, v_n$.
\end{fluff}


\begin{definition}
  Let $d \in \Natural$.
  A function $f \colon V \to k$ is \emph{homogeneous of degree $d$} if $f(\lambda x) = \lambda^d f(x)$ for all $\lambda \in k$, $x \in V$.
  Let
  \[
              \mc{P}(V)_d
    \defined  \{
                f \in \mc{P}(V)
              \suchthat
                \text{$f$ is homogeneous of degree $d$}
              \} \,.
  \]
\end{definition}


\begin{fluff}
  \label{fluff: homogeneous polynomial to polynomial function}
  For every homogeneous polynomial $p \in k[X_1, \dotsc, X_n]$ of degree $d$ the corresponding polynomial function $\Phi(p) \colon V \to k$ is homogeneous of degree $d$, as can be checked on monomials.
  This connection between homogeneous polynomials and homogeneous polynomial functions leads to the following result:
\end{fluff}


\begin{lemma}
  \leavevmode
  \begin{enumerate}
    \item
      For every $d \in \Natural$ the set of homogeneous polynomials maps $\mc{P}(V)_d \subseteq \mc{P}(V)$ is a $k$-linear subspace.
    \item
      Every polynomial function $f \colon V \to k$ can be written as a sum of homogeneous polynomial functions $f_d \in \mc{P}_d(V)$.
    \item
      The $k$-linear subspaces $\mc{P}(V)_d$ with $d \in \Natural$ of $\mc{P}(V)$ are linearly independent (i.e.\ the sum $\sum_{d \in \Natural} \mc{P}_d(V)$ is direct).
    \item
      For all $i, j \in \Natural$ one has for all $f \in \mc{P}(V)_i$ and $g \in \mc{P}(V)_j$ that $fg \in \mc{P}(V)_{i+j}$.
  \end{enumerate}
\end{lemma}


\begin{proof}
  \leavevmode
  \begin{enumerate}
    \item
      For all $f_1, f_2 \in \mc{P}(V)_d$ we have that
      \begin{align*}
            (f_1+f_2)(\lambda v)
        &=  f_1(\lambda v) + f_2(\lambda v)
         =  \lambda^d f_1(v) + \lambda^d f_2(v) \\
        &=  \lambda^d (f_1(v) + f_2(v))
         =  \lambda^d (f_1 + f_2)(v)
      \end{align*}
      for all $\lambda \in k$, $v \in V$, so that $f_1 + f_2 \in \mc{P}(V)_d$.
      For all $f \in \mc{P}(V)$, $\mu \in k$ we have that
      \[
          (\mu f)(\lambda v)
        = \mu f(\lambda v)
        = \lambda^d \mu f(v)
        = \lambda^d (\mu f)(v)
      \]
      for all $\lambda \in k$, $v \in V$, so that $\mu f \in \mc{P}(V)_d$.
    \item
      There exists a polynomial $p \in k[X_1, \dotsc, X_n]$ with $f = \Phi(p)$.
      Then $p$ can be written as a sum $p = \sum_{d \in \Natural} p_d$ where $p_d$ is homogeneous of degree $d$, with $p_d = 0$ for all but finitely many $d \in \Natural$.
      It follows for $f_d \defined \Phi(p_d)$ from~\ref{fluff: homogeneous polynomial to polynomial function} that $f_d$ is homogeneous of degree $d$.
      The claim follows because
      \[
          \Phi(p)
        = \Phi\left( \sum_{d \in \Natural} p_d \right)
        = \sum_{d \in \Natural} \Phi(p_d)
        = \sum_{d \in \Natural} f_d \,.
      \]
    \item
      Let $m \geq 0$ and $f_0 \in \mc{P}(V)_0, \dotsc, f_m \in \mc{P}(V)_m$ with $\sum_{d=0}^m f_d = 0$.
      We fix some $x \in V$ and show that $f_d(x) = 0$ for every $d = 0, \dotsc, m$.
      
      For every $\lambda \in k$ we have that
      \[
          0
        = \sum_{d=0}^m f_d(\lambda x)
        = \sum_{d=0}^m \lambda^d f_d(x) \,.
      \]
      It follows for pairwise different $\lambda_0, \dotsc, \lambda_m \in k$ that
      \[
          \begin{pmatrix}
              1
            & \lambda_0
            & \lambda_0^2
            & \cdots
            & \lambda_0^m
            \\
              1
            & \lambda_1
            & \lambda_1^2
            & \cdots
            & \lambda_1^m
            \\
              \vdots
            & \vdots
            & \vdots
            & \ddots
            & \vdots
            \\
              1
            & \lambda_m
            & \lambda_m^1
            & \cdots
            & \lambda_m^m
          \end{pmatrix}
          \begin{pmatrix}
            f_0(x)  \\
            f_1(x)  \\
            \vdots  \\
            f_m(x)
          \end{pmatrix}
        = \begin{pmatrix}
            0       \\
            0       \\
            \vdots  \\
            0
          \end{pmatrix}
      \]
      The matrix on the left is invertible as it is the Vandermonde matrix of the values $\lambda_1, \dotsc, \lambda_n$, and has therefore determinant $\prod_{i > j} (\lambda_i - \lambda_j)$.
      It follows that $f_0(x) = \dotsb = f_m(x) = 0$, as desired.
    \item
      For all $\lambda \in k$, $v \in V$ we have that
      \[
          (fg)(\lambda v)
        = f(\lambda v) g(\lambda v)
        = \left( \lambda^i f(v) \right)\left( \lambda^j g(v) \right)
        = \lambda^{i+j} f(v) g(v)
        = \lambda^{i+j} (fg)(v) \,,
      \]
      and therefore $fg \in \mc{P}(V)_{i+j}$.
    \qedhere
  \end{enumerate}
\end{proof}


\begin{corollary}
  The $k$-algebra $\mc{P}(V)$ has a grading given by $\mc{P}(V) = \bigoplus_{d \in \Natural} \mc{P}(V)_d$.
\end{corollary}


\begin{fluff}
  Note that for the isomorphism $\Phi$ we have that $\Phi( k[X_1, \dotsc, X_n]_d ) \subseteq \mc{P}(V)_d$ for every $d \in \Natural$ by~\ref{fluff: homogeneous polynomial to polynomial function}.
  Thus $\Phi$ is an isomorphism of graded $k$-algebras.
  It follows that the constructed grading of $\mc{P}(V)$ coincides with the one inherited under $\Phi$.
  This shows, as claimed in~\ref{fluff: motivation for homogeneous functions}, that this grading does not depend on the choice of the basis $v_1, \dotsc, v_n$.
\end{fluff}


% TODO: Definition of P(V) without basis as S(V*)





\subsection{Polynomial Maps between Vector Spaces}

\begin{fluff}
  So far we have only considered polynomial functions $V \to k$.
  In the following we will generalize this to the notion of \emph{polynomial maps} $V \to W$ between finite-dimensional $k$-vector spaces $V$ and $W$.
  
  In the following $U, V, W$ will denote finite-dimensional $k$-vector spaces.
\end{fluff}


\begin{definition}
  A map
  \[
            f
    \colon  V
    \to     W
  \]
  is \emph{polynomial} if the coordinate functions of $f$ with respect to a basis $w_1, \dotsc, w_m$ of $W$ are polynomial, i.e.\ if the functions $f_1, \dotsc, f_m \colon V \to k$ with
  \[
      f(v)
    = \sum_{i=1}^m f_i(v) w_i
  \]
  for every $v \in V$ are polynomial.
  The space of polynomial maps $V \to W$ is denoted by
  \[
              \Pol_k(V,W)
    \defined  \{
                        f
                \colon  V
                \to     W
              \mid
                \text{$f$ is a polynomial}
              \} \,,
  \]
  or just by $\Pol(V,W)$.
\end{definition}


\begin{remark}
  One can show as for $\mc{P}(W)$ that this definition does not depend on the choice of the basis of $W$.
  From Corollary~\ref{corollary: restriction of polynomial functions} it follows for every polynomial map $f \colon V \to W$ that the restriction $f|_U$ to any $k$-linear subspace $U \subseteq V$ is again polynomial.
\end{remark}


\begin{example}
  \label{example: polynomial maps}
  Let $v_1, \dotsc, v_n$ be a basis of $V$, and let $w_1, \dotsc, w_m$ be a basis of $W$.
  \leavevmode
  \begin{enumerate}
    \item
      We have that $\Pol(V,k) = \mc{P}(V)$.
    \item
      Every linear map $V \to W$ is polynomial:
      For the coefficients $a_{ij} \in K$ with $f(v_j) = \sum_{i=1}^n a_{ij} w_i$ for every $j = 1, \dotsc, n$ it follows from the linearity of $f$ that
      \begin{gather*}
          f(v)
        = f_1(v) w_1 + \dotsb + f_m(v) w_m
      \shortintertext{with}
          f_i(\lambda_1 v_1 + \dotsb + \lambda_n v_n)
        = a_{i1} \lambda_1 + \dotsb + a_{in} \lambda_n \,.
      \end{gather*}
      The functions $f_i$ are polynomial because they correspond to the polynomials $p_i(X_1, \dotsc, X_n) = a_{i1} X_1 + \dotsb + a_{in} X_n$ with respect to the given basis $v_1, \dotsc, v_n$.
    \item
      For every $r \geq 0$ the map
      \[
                f
        \colon  V
        \to     V^{\otimes r},
        \quad   v
        \mapsto v \otimes \dotsb \otimes v
      \]
      is polynomial.
      To see this we choose a basis $v_1, \dotsc, v_n$ of $V$.
      Then the elements
      \[
          v_{\underline{i}}
        = v_{i_1} \otimes \dotsb \otimes v_{i_r}
        \quad\text{with}\quad
            \underline{i}
        =   (i_1, \dotsc, i_r)
        \in \{1, \dotsc, n\}^r
      \]
      form a basis of $V^{\otimes r}$.
      For $v \in V$ with $v = \sum_{i=1}^r \lambda_i v_i$ we have that
      \[
          f(v)
        = v \otimes \dotsb \otimes v
        =         \left( \sum_{i=1}^r \lambda_i v_i \right)
          \otimes \dotsb
          \otimes \left( \sum_{i=1}^r \lambda_i v_i \right)
        = \sum_{\underline{i}} \lambda_{i_1} \dotsm \lambda_{i_r} v_{\underline{i}} \,.
      \]
      For the polynomials $p_{\underline{i}} \defined  X_{i_1} \dotsm X_{i_r}$ and their corresponding polynomial maps $f_{\underline{i}} \colon V \to k$ given by
      \[
          f_{\underline{i}}\left( \lambda_1 v_1 + \dotsb + \lambda_n v_n \right) = p_{\underline{i}}(\lambda_1, \dotsc, \lambda_r)
      \]
      we thus have that $f(v) = \sum_{\underline{i}} f_{\underline{i}}(v) v_{\underline{i}}$ for every $v \in V$.
  \end{enumerate}
\end{example}


\begin{lemma}
  \leavevmode
  \begin{enumerate}
    \item
      The identity map $\id_V \colon V \to V$ is polynomial.
    \item
      For any two composable polynomial maps $f \colon U \to V$ and $g \colon V \to W$ their composition $g \circ f$ is also composable.
  \end{enumerate}
\end{lemma}
\begin{proof}
  \leavevmode
  \begin{enumerate}
    \item
      The identity $\id_V$ is linear, and therefore polynomial.
    \item
      Let $u_1, \dotsc, u_r$ be a basis of $U$, let $v_1, \dotsc, v_s$ be a basis of $V$, and let $w_1, \dotsc, w_t$ be a basis of $W$.
      Because the map $f \colon U \to V$ is polynomial there exist polynomials $p_1, \dotsc, p_s \in k[X_1, \dotsc, X_r]$ such that
      \[
          f( \lambda_1 u_1 + \dotsb + \lambda_r u_r )
        = \sum_{i=1}^s p_i(\lambda_1, \dotsc, \lambda_r) v_i \,,
      \]
      and because  the $g$ polynomial we can find polynomials $q_1, \dotsc, q_t \in k[X_1, \dotsc, X_s]$ such that
      \[
          g( \mu_1 w_1 + \dotsb + \mu_s w_s )
        = \sum_{j=1}^t q_j(\mu_1, \dotsc, \mu_s) w_j \,.
      \]
      By combining these two formulas we find that
      \begin{align*}
         &\,  (g \circ f)( \lambda_1 u_1 + \dotsb + \lambda_r u_r)
        =     g
              \left(
                \sum_{i=1}^s p_i(\lambda_1, \dotsc, \lambda_r) v_i
              \right) \\
        =&\,  \sum_{j=1}^t
              q_j
              (
              p_1(\lambda_1, \dotsc, \lambda_r),
              \dotsc,
              p_s(\lambda_1, \dotsc, \lambda_r)
              )
              w_j
        =  \sum_{j=1}^t r_j(\lambda_1, \dotsc, \lambda_r) w_j
      \end{align*}
      for the polynomials
      \[
                  r_j
        \coloneqq q_j(p_1(X_1, \dotsc, X_r), \dotsc, p_s(X_1, \dotsc, X_r))
        \in       k[X_1, \dotsc, X_r] \,.
      \]
      This shows that $g \circ f$ is again polynomial.
  \qedhere
  \end{enumerate}
\end{proof}


\begin{remark}
  It follows that the class of finite-dimensional $k$-vector spaces together with the polynomial maps between them form a category.
  We will denote this category by $\cpol{k}$.
  Note that $\Hom_{\cpol{k}}(W,V) = \Pol_k(W,V)$ for all finite-dimensional $k$-vector spaces $V$ and $W$.
  Note also that $\cvect{k}$ is a subcategory of $\cpol{k}$ since every linear map between finite-dimensional vector spaces is polynomial.
\end{remark}


\begin{proposition}
  \leavevmode
  \begin{enumerate}
    \item
      The space $\Pol_k(V,W)$ of polynomial maps $V \to W$ carries the structure of a $k$-vector space via pointwise addition and scalar multiplication.
    \item
      The $k$-vector space $\Pol_k(V,W)$ carries the structur of a $\mc{P}_k(V)$-module via
      \begin{equation}
      \label{equation: module structure on polynomial spaces}
          (g \cdot f)(v)
        = g(v) f(v)
      \end{equation}
      for all $g \in \mc{P}_k(V)$, $f \in \Pol_k(V,W)$, $v \in V$.
  \end{enumerate}
\end{proposition}
\begin{proof}
  \leavevmode
  \begin{enumerate}
    \item
      The space $\Maps(V,W)$ carries the structure of a $k$-vector space via pointwise addition und scalar multiplication.
      Then $\Pol_k(V,W)$ is a $k$-linear subspace of $\Maps(V,W)$ as sums and scalar multiplices of polynomial maps are again polynomial.
    \item
      The $k$-vector space $\Maps(V,W)$ becomes a $\Maps(V,k)$-module by defining the multiplication via~\eqref{equation: module structure on polynomial spaces}.
      Then $\mc{P}(V)$ is a $k$-subalgebra of $\Maps(V,k)$, so that $\Maps(V,W)$ becomes a $\mc{P}(V)$-module by restriction.
      The proposition claims that $\Pol_k(V,W)$ is a $\mc{P}(V)$-submodule of $\Maps(V,W)$.
      It now sufficies to show that $\Pol_k(V,W)$ is preserved under the action of $\mc{P}_k(V)$ on $\Maps(V,W)$.
      
      Let $w_1, \dotsc, w_m$ be a basis of $W$.
      For every $f \in \Pol_k(V,W)$ there then exist $f_1, \dotsc, f_m \in \mc{P}_k(V)$ with
      \[
          f(v)
        = f_1(v) w_1 + \dotsb + f_m(v) w_m
      \]
      for all $v \in V$.
      Then
      \begin{align*}
            (g \cdot f)(v)
        &=  g(v) \cdot f(v)                               \\
        &=  g(v) \cdot (f_1(v) w_1 + \dotsb + f_m(v) w_m) \\
        &=  g(v) f_1(v) w_1 + \dotsb + g(v) f_m(v) w_m    \\
        &=  (g f_1)(v) w_1 + \dotsb + (g f_m)(v) w_m
      \end{align*}
      for all $v \in V$, with $g f_1, \dotsc, g f_m \in \mc{P}(V)$.
      So $g \cdot f$ is again polynomial.
  \qedhere
  \end{enumerate}
\end{proof}


\begin{lemma}
  Let $f \colon V \to W$ be a polynomial map. Then
  \[
            f^*
    \colon  \mc{P}(W)
    \to     \mc{P}(V),
    \quad   h
    \mapsto h \circ f
  \]
  is a homomorphism of $k$-algebras.
\end{lemma}
\begin{proof}
  The map $f^*$ is well-defined as the composition of polynomial maps is again polynomial.
  To show that $f$ is a homomorphism of $k$-algebras let $h, h_1, h_2 \in \mc{P}(W)$.
  For every $v \in V$ we have that
  \begin{align*}
        f^*(h_1+h_2)(v)
    &=  (h_1 + h_2)(f(v))
     =  h_1(f(v)) + h_2(f(v)) \\
    &=  f^*(h_1)(v) + f^*(h_2)(v)
     =  (f^*(h_1)+f^*(h_2))(v)
  \end{align*}
  and therefore
  \[
      f^*(h_1 + h_2)
    = f^*(h_1) + f^*(h_2) \,.
  \]
  For all $\lambda \in k$, $v \in V$ we have that
  \[
      f^*(\lambda h)(v)
    = (\lambda h)(f(v))
    = \lambda h(f(v))
    = \lambda f^*(h)(v)
    = (\lambda f^*(h))(v)
  \]
  and therefore
  \[
      f^*(\lambda h)
    = \lambda f^*(h) \,.
  \]
  Together this shows that $f^*$ is $k$-linear.
  For every $v \in V$ we have that
  \begin{align*}
        f^*(h_1 h_2)(v)
    &=  (h_1 h_2)(f(v))
     =  h_1(f(v)) h_2(f(v)) \\
    &=  f^*(h_1)(v) \, f^*(h_2)(v)
     =  (f^*(h_1) f^*(h_2))(v)
  \end{align*}
  and therefore
  \[
      f^*(h_1 h_2)
    = f^*(h_1) f^*(h_2) \,.
  \]
  This shows that $f^*$ is multiplicative.
  We also have that
  \[
      f^*\left( 1_{\mc{P}(W)} \right)
    = 1_{\mc{P}(W)} \circ f
    = 1_{\mc{P}(V)} \,.
  \]
  Alltogether this shows that $f^*$ is a homomorphism of $k$-algebras.
\end{proof}


\begin{definition}
  For every polynomial map $f \colon V \to W$ the homomorphism of $k$-algebras $f^* \colon \mc{P}(W) \to \mc{P}(V)$ is the \emph{comorphism associated with $f$}.
\end{definition}


\begin{lemma}
  \label{lemma: functoriality of polynomial algebra}
  \leavevmode
  \begin{enumerate}
    \item
      For the identity $\id_V$ we have that $\id_V^* = \id_{\mc{P}(V)}$.
    \item
      For every two composable polynomial maps $f \colon U \to V$ and $g \colon V \to W$ we have that $(g \circ f)^* = f^* \circ g^*$.
  \end{enumerate}
\end{lemma}


\begin{fluff}
  We have associated to every finite-dimensional $k$-vector space $V$ a $k$-algebra $\mc{P}(V)$, and to any polynomial map $f \colon V \to W$ an associated homomorphism of $k$-algebras $f^* \colon \mc{P}(W) \to \mc{P}(V)$.
  This association is functorial by Lemma~\ref{lemma: functoriality of polynomial algebra}.
  We have therefore constructed a contravariant functor $\cpol{k} \to \cAlg{k}$ which is given on objects by $V \mapsto \mc{P}(V)$ and on morphisms by $f \mapsto f^*$.
  
  This functor turns out to be fully faithful:
\end{fluff}


\begin{proposition}
  The map
  \[
            \Pol_k(V,W)
    \to     \Hom_{\cAlg{k}}(\mc{P}(W), \mc{P}(V)) \,,
    \quad   f
    \mapsto f^*
  \]
  is bijective.
\end{proposition}
\begin{proof}
  Let $v_1, \dotsc, v_n$ be a basis of $V$ and let $w_1, \dotsc, w_m$ be a basis of $W$.  
  Let
  \[
            \Phi
    \colon  k[X_1, \dotsc, X_n]
    \to     \mc{P}(V)
    \quad\text{and}\quad
            \Psi
    \colon  k[Y_1, \dotsc, Y_m]
    \to     \mc{P}(W)
  \]
  be the induced isomorphisms of $k$-algebras from Corollary~\ref{corollary: isomorphism poylnomial ring and polynomial maps}.
  
  For every polynomial map $f \in \Pol_k(V,W)$ let $f^\vee \colon k[Y_1, \dotsc, Y_m] \to k[X_1, \dotsc, X_n]$ be the unique $k$-algebra homomorphism which makes the diagram
  \[
    \begin{tikzcd}[sep = large]
        k[X_1, \dotsc, X_n]
        \arrow{d}[left]{\Phi}
      & k[Y_1, \dotsc, Y_m]
        \arrow{l}[above]{f^\vee}
        \arrow{d}[right]{\Psi}
      \\
        \mc{P}(V)
      & \mc{P}(W)
        \arrow{l}[below]{f^*}
    \end{tikzcd}
  \]
  commute, i.e.\ $f^\vee \defined \Phi^{-1} \circ f^* \circ \Psi$.
  It now sufficies to show that the map
  \[
            \Pol_k(V,W)
    \to     \Hom_{\cAlg{k}}(k[Y_1, \dotsc, Y_m], k[X_1, \dotsc, X_n]) \,,
    \quad   f
    \mapsto f^\vee
  \]
  is bijective.
  
  Let $f \in \Pol_k(V,W)$ be a polynomial map.
  Then there exist polynomial functions $f_1, \dotsc, f_m \in \mc{P}(V)$ with
  \[
      f(v)
    = f_1(v) w_1 + \dotsb + f_m(v) w_m
  \]
  for every $v \in V$.
  Let $p_1, \dotsc, p_m \in k[X_1, \dotsc, X_n]$ be the associated polynomials with $f_i = \Phi(p_i)$ for every $i = 1, \dotsc, m$.
  Then
  \begin{equation}
    \label{equation: Yi to pi}
      f^\vee(Y_i)
    = p_i
  \end{equation}
  for every $i = 1, \dotsc, m$:
  For every $v \in V$ we find that
  \begin{align*}
        \Phi( f^\vee(Y_i) )(v)
    &=  f^*( \Psi(Y_i) )(v)
     =  \Psi(Y_i)( f(v) ) \\
    &=  \Psi(Y_i)( f_1(v) w_1 + \dotsb + f_m(v) w_m )
     =  f_i(v)
     =  \Phi(p_i)(v) \,,
  \end{align*}
  and therefore $\Phi( f^\vee(Y_i) ) = \Phi(p_i)$, and thus $f^\vee(Y_i) = p_i$.
  
  For any choice of polynomial functions $f_1, \dotsc, f_m \in \mc{P}(V)$ there exists a polynomial map $f \colon V \to W$ given by
  \[
      f(v)
    = f_1(v) w_1 + \dotsb + f_m(v) w_m
  \]
  for every $v \in V$, which results in in map
  \[
        \mc{P}(V)^m
    \to \Pol_k(V,W) \,.
  \]
  This map is surjective by the definition of a polynomial map $V \to W$ and injective by the linear independence of $w_1, \dotsc, w_m$.
  
  For any choice of polynomials $p_1, \dotsc, p_m \in k[X_1, \dotsc, X_n]$ there exists a unique homomorphism of $k$-algebras $k[Y_1, \dotsc, Y_m] \to k[X_1, \dotsc, X_n]$ mapping $Y_i$ to $p_i$ for every $i = 1, \dotsc, m$.
  We thus get a bijection
  \[
        k[Y_1, \dotsc, Y_m]^m
    \to \Hom_{\cAlg{k}}( k[Y_1, \dotsc, Y_m], k[X_1, \dotsc, X_n] )
  \]
  
  We now have the following diagram:
  \[
    \begin{tikzcd}[row sep = large, column sep = huge]
        \mc{P}(V)^m
        \arrow{d}
      & k[X_1, \dotsc, X_n]^m
        \arrow{l}[above]{\Phi^{\times m}}
        \arrow{d}
      \\
        \Pol_k(V,W)
        \arrow{r}[above]{f \mapsto f^\vee}
      & \Hom_{\cAlg{k}}( k[Y_1, \dotsc, Y_m], k[X_1, \dotsc, X_n] )
    \end{tikzcd}
  \]
  This diagram commutes by~\eqref{equation: Yi to pi}.
  The two vertical and the upper horizontal homomorphisms in this diagram are isomorphisms, and so the lower horizontal homomorphism is also an isomorphism.
\end{proof}


% \begin{remark}
%   For $k$ infinite we have an isomorphism of representations
%   \[
%             \Phi
%     \colon  k[X_1, \dotsc, X_n]
%     \to     \mc{P}(k^n),
%     \quad   X_i
%     \mapsto \varphi_i \,,
%   \]
%   where $S_n$ acts on $k[X_1, \dotsc, X_n]$ as usual by permuting the $X_i$ and on $\mc{P}(k^n)$ via
%   \[
%       (\sigma.f)(v)
%     = f\left( \sigma^{-1}.v \right)
%     \text{ for all }
%     \sigma \in S_n,
%     f \in \mc{P}(V),
%     v \in k^n \,.
%   \]
%   We know that $\Phi$ is an isomorphism of $k$-vector spaces.
%   It is $S_n$-equivariant, since for all $\sigma \in G, p = X_1^{\alpha_1} \dotsm X_n^{\alpha_n} \in k[X_1, \dotsc, X_n]$ and $v = (\lambda_1, \dotsc, \lambda_n) \in k^n$
%   \begin{align*}
%        \Phi(g.p)(v)
%     &= \Phi\left( X_{g(1)}^{\alpha_1} \dotsm X_{g(n)}^{\alpha_n} \right)(v)
%      = \lambda_{g(1)}^{\alpha_1} \dotsm \lambda_{g(n)}^{\alpha_n} \\
%     &= \Phi(p)( \lambda_{g(1)}, \dotsc, \lambda_{g(n)} )
%      = \Phi(p)\left( g^{-1}.(\lambda_1, \dotsc, \lambda_n) \right) \\
%     &= (g.\Phi(p))(\lambda_1, \dotsc, \lambda_n) \,.
%   \end{align*}
% \end{remark}


% TODO: Readd this later?
% Given a field extension $L/k$ and an $n$-dimensional $k$-vector space $W$ we have an isomorphism of $k$-algebras
% \[
%         \mc{P}_k(W)
%   \cong k[X_1, \dotsc X_n]
% \]
% and therefore an isomorphism of $L$-algebras
% \[
%         \mc{P}_k(W)_L
%   \cong k[X_1, \dotsc, X_n]_L
%   \cong L[X_1, \dotsc, X_n] \,.
% \]
% Since $\dim_L W_L = \dim_k W = n$ we also have an isomorphism of $L$-algebras
% \[
%         \mc{P}_L(W_L)
%   \cong L[X_1, \dotsc, X_n]
% \]
% Combining this we have an isomorphism of $L$-algebras $\mc{P}_L(W)_L \cong \mc{P}(W_L)$. Since the isomorphism
% \[
%         \mc{P}_k(W)
%   \cong k[X_1, \dotsc X_n]
% \]
% depends on choosing a $k$-basis of $W$ and the isomorphism
% \[
%         \mc{P}_L(W_L)
%   \cong L[X_1, \dotsc, X_n]
% \]
% depends on choosing an $L$-basis of $W_L$ we can not expect this isomorphism $\mc{P}_k(W)_L \cong \mc{P}(W_L)$ to be independent of such choice.
% We will come back to this later.
