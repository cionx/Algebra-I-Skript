\section{Zero Sets and Hilbertâ€™s Nullstellensatz}
In this section we require all fields to be infinite.
Until further notice we also fix a finite-dimensional $k$-vector space $W$.


\begin{definition}
  Let $S \subseteq \mc{P}(W)$.
  Then
  \[
              \mc{V}(S)
    \coloneqq \{
                x \in W
              \mid
                f(x) = 0
                \text{ for all }
                f \in S
              \} \,.
  \]
  is the \emph{zero set} or \emph{varishing set associated with $S$}, or \emph{affine algebraic variety corresponding to $S$}.
\end{definition}


\begin{example}
  \begin{enumerate}[label=\emph{\alph*)},leftmargin=*]
    \item
      We have $\mc{V}(\emptyset) = \mc{V}(\{0\}) = W$ and $\mc{V}(\mc{P}(W)) = \mc{V}(\{1\}) = \emptyset$.
    \item
      For $S_1 \subseteq S_2 \subseteq \mc{P}(W)$ we have $\mc{V}(S_2) \subseteq \mc{V}(S_1)$.
    \item
      For every $S \subseteq \mc{P}(W)$ we have $S \subseteq \mc{I}(\mc{V}(S))$ and for every $X \subseteq W$ we have $X \subseteq \mc{V}(\mc{I}(X))$.
  \end{enumerate}
\end{example}


\begin{lemma}
  Let $X \subseteq W$ be an affine algebraic variety. Then
  \[
      \mc{V}(\mc{I}(X))
    = X \,.
  \]
\end{lemma}
\begin{proof}
  It is clear that $X \subseteq \mc{V}(\mc{I}(X))$.
  To show the other inclusion let $S \subseteq \mc{P}(W)$ such that $X = \mc{V}(S)$.
  We have $S \subseteq \mc{I}(X)$ and thus $\mc{V}(\mc{I}(X)) \subseteq \mc{V}(S) = X$.
\end{proof}


\begin{corollary}
  A subset $X \subseteq W$ is an affine algebraic variety if and only if there exists an ideal $I \subseteq \mc{P}(W)$ with $X = \mc{V}(I)$.
\end{corollary}


\begin{corollary}
  Let $S \subseteq \mc{P}(W)$ and $I \coloneqq (S)_{\mc{P}(W)}$. Then
  \[
      \mc{V}(S)
    = \mc{V}(I) \,.
  \]
\end{corollary}
\begin{proof}
  Because $\mc{I}(\mc{V}(S))$ is an ideal which contains $S$ we have
  \[
              S
    \subseteq I
    \subseteq \mc{I}(\mc{V}(S))
  \]
  and therefore
  \[
              \mc{V}(S)
    =         \mc{V}( \mc{I}( \mc{V}(S) ) )
    \subseteq \mc{V}(I)
    \subseteq \mc{V}(S) \,.
    \qedhere
  \]
\end{proof}


\begin{corollary}
  Let $X \subseteq W$ an affine algebraic variety.
  Then there exists $f_1, \dotsc, f_n \in \mc{P}(W)$ such that
  \[
      X
    = \mc{V}( \{f_1, \dotsc, f_n\} ) \,.
  \]
\end{corollary}
\begin{proof}
  Since $k$ is infinite we have $\mc{P}(W) \cong k[X_1, \dotsc, X_{\dim(W)}]$, so $\mc{P}(W)$ is noetherian.
  Therefore $\mc{I}(X)$ is finitely generated by some $f_1, \dotsc, f_n \in \mc{P}(W)$.
  Thus
  \[
      X
    = \mc{V}( \mc{I}(X) )
    = \mc{V}\left( \left( f_1, \dotsc, f_n \right)_{\mc{P}(W)} \right)
    = \mc{V}( \{f_1, \dotsc, f_n\} ) \,.
    \qedhere
  \]
\end{proof}


\begin{proposition}
  \begin{enumerate}[label=\emph{\alph*)},leftmargin=*]
    \item
      Let $(I_j)_{j \in J}$ be a family of ideals $I_j \subseteq \mc{P}(W)$. Then
      \[
          \bigcap_{j \in J} \mc{V}(I_j)
        = \mc{V}\left( \sum_{j \in J} I_j \right).
      \]
    \item
      For all ideals $I_1, I_2 \subseteq \mc{P}(W)$ we have
      \[
          \mc{V}(I_1) \cup \mc{V}(I_2)
        = \mc{V}(I_1 \cap I_2) \,.
      \]
  \end{enumerate}
\end{proposition}
\begin{proof}
  \begin{enumerate}[label=\emph{\alph*)},leftmargin=*]
    \item
      Since $I_i \subseteq \sum_{j \in J} I_j$ for all $i \in J$ we have
      \[
                  \mc{V}\left( \sum_{j \in J} I_j \right)
        \subseteq \mc{V}(I_i)
      \]
      for all $i \in J$ and thus
      \[
                  \mc{V}\left( \sum_{j \in J} I_j \right)
        \subseteq \bigcap_{j \in J} \mc{V}(I_j) \,.
      \]
      On the other hand we have for every $x \in \bigcap_{j \in J} \mc{V}(I_j)$ that $f(x) = 0$ for every $j \in J$ for all $f \in I_j$ and therefore
      \[
            x
        \in \mc{V}\left( \bigcup_{j \in J} I_j \right)
        =   \mc{V}\left( \left( \bigcup_{j \in J} I_j \right)_{\mc{P}(W)} \right)
        =   \mc{V}\left( \sum_{j \in J} I_j \right).
      \]
    \item
      We have $I_1 \cap I_2 \subseteq I_j$ for $j \in \{1,2\}$, so $\mc{V}(I_j) \subseteq \mc{V}(I_1 \cap I_2)$ for $j \in \{1,2\}$ and therefore
      \[
                  \mc{V}(I_1) \cup \mc{V}(I_2)
        \subseteq \mc{V}(I_1 \cap I_2) \,.
      \]
      For every $x \not\in \mc{V}(I_1 \cap I_2)$ there exists $f \in I_1$ with $f(x) \neq 0$ and $g \in I_2$ with $g(x) \neq 0$.
      Since $fg \in I_1 \cap I_2$ with $(fg)(x) \neq 0$ we have $x \not\in \mc{V}(I_1 \cap I_2)$.
    \qedhere
  \end{enumerate}
\end{proof}


\begin{remark}
  Since $\emptyset$ and $W$ are zero sets this shows that the zero sets define a topology on $W$ in which they are precisely the closed sets.
\end{remark}


\begin{definition}
  Let $R$ be a commutative ring and $I \subseteq R$ an ideal. Then
  \[
              \rad_R I
    \coloneqq \{
                r \in R
              \mid
                \text{there exists }
                n \in \Natural
                \text{ with }
                r^n \in I
              \}
  \]
  is the \emph{radical of $I$}.
  If it is clear over what ring we work we also simply write $\rad$ instead of $\rad_R$.
\end{definition}


\begin{lemma}
  Let $R$ be a commutative ring and $I \subseteq R$ an ideal. 
  \begin{enumerate}[label=\emph{\alph*)},leftmargin=*]
    \item
      $\rad I  \subseteq R$ is an ideal with $I \subseteq \rad I$.
    \item
      We have $\rad(\rad I) = \rad I$.
  \end{enumerate}
\end{lemma}
\begin{proof}
  \begin{enumerate}[label=\emph{\alph*)},leftmargin=*]
    \item
      It is clear that $I \subseteq \rad I$.
      
      For $f,g \in \rad I$ there exist $n,m \in \Natural$ with $f^n, g^m \in I$ and thus $f^r, g^s \in I$ for all $r \geq n$ and $s \geq m$. Therefore
      \[
            (f - g)^{n+m}
        =   \sum_{i=0}^{n+m} (-1)^{n+m-k} \binom{n+m}{k} f^k g^{n+m-k}
        \in I
      \]
      and thus $f-g \in \rad I$. It is also clear that $0 \in \rad I$.
      
      For $f \in \rad I$ there exists $n \in \Natural$ such that $f^n \in I$.
      For every $r \in R$ we therefore have
      \[
            (rf)^n
        =   r^n f^n
        \in I
      \]
      and thus $rf \in \rad I$.
    \item
      Let $r \in \rad(\rad I)$.
      Then there exists $m \in \Natural$ with $r^m \in \rad I$.
      Thus there exists $n \in \Natural$ with $r^{mn} = (r^m)^n \in I$.
      This shows that $\rad \rad I \subseteq \rad I$.
      The other inclusion is clear.
    \qedhere
  \end{enumerate}
\end{proof}


\begin{lemma}
  For every affine algebraic variety $X \subseteq W$ we have
  \[
    \mc{I}(X)
  = \rad \mc{I}(X) \,.
  \]
\end{lemma}
\begin{proof}
  It is clear that $\mc{I}(X) \subseteq \rad \mc{I}(X)$.
  To show the other inclusion let \mbox{$f \in \rad \mc{I}(X)$}.
  Then there exists $n \in \Natural$ with $f^n \in \mc{I}(X)$.
  Therefore $f^n(x) = 0$ for all $x \in X$ and thus $f(x) = 0$ for all $x \in X$.
  So $f \in \mc{I}(X)$.
\end{proof}


\begin{proposition}
  Let $k$ be algebraically closed.
  \begin{enumerate}[label=\emph{\alph*)},leftmargin=*]
    \item
      For every ideal $J \subseteq \mc{P}(W)$ we have $\mc{I}(\mc{V}(J)) = \rad J$.
    \item
      In particular we have a bijection
      \begin{align*}
                          \{\text{affine algebraic varieties $X \subseteq W$}\}
        &\leftrightarrow  \{\text{radial ideals $I \subseteq \mc{P}(W)$}\} \,,  \\
                          X
        &\mapsto          \mc{I}(X) \,, \\
                          \mc{V}(I)
        &\mapsfrom        I \,.
    \end{align*}
  \end{enumerate}
\end{proposition}
\begin{proof}
  \begin{enumerate}[label=\emph{\alph*)},leftmargin=*]
    \item
      We will prove this later.
    \item
      We already know that for an affine algebraic variety $X \subseteq W$ we have $\mc{V}(\mc{I}(X)) = X$.
      For every radical ideal $I \subseteq \mc{P}(W)$ we have $\rad I = I$ and therefore by 1)
      \[
          \mc{I}(\mc{V}(I))
        = \rad I
        = I \,.
        \qedhere
      \]
  \end{enumerate}
\end{proof}


To prove the first part of the previous lemma we need some preparation.


\begin{theorem}[Weak Nullstellensatz]
  Let $k$ be algebraically closed.
  For every maxmial ideal \mbox{$\mf{m} \subseteq k[X_1, \dotsc, X_n]$} we have
  \[
              \mf{m}
    =         ( (X_1 - a_1), \dotsc, (X_n - a_n) )_{k[X_1, \dotsc, X_n]}
    \eqqcolon \mf{m}_a
  \]
  for some $a = (a_1, \dotsc, a_n) \in k^n$.
\end{theorem}


\begin{remark}
  \begin{enumerate}[label=\emph{\alph*)},leftmargin=*]
    \item
      Note that $\mf{m}_{a} \cong \mc{I}(a)$ under $\mc{P}(k^n) \cong k[X_1, \dotsc, X_n]$.
    \item
      The theorem gives us a bijection
      \begin{align*}
                          \{\text{maximal ideals in $k[X_1, \dotsc, X_n]$}\}
        &\leftrightarrow  \{\text{points in $k^n$}\} \,,  \\
                          \mf{m}_a
        &\mapsto          a \,.
      \end{align*}
    \item
      The theorem does not hold for arbitrary fields:
      Let \mbox{$\mf{m} = (X^2 + 1) \subseteq \Real[X]$}.
      Then $\Real[X]/\mf{m} \cong \Complex$ is a field, so $\mf{m}$ is a maximal ideal.
      But since $\mc{V}(\mf{m}) = 0$ the theorem does not hold.
  \end{enumerate}
\end{remark}


\begin{corollary}(Nullstellensatz)
  Let $k$ be an algebraically closed field.
  For every proper ideal $J \subseteq k[X_1, \dotsc, X_n]$ we have $\mc{V}(J) \neq \emptyset$.
\end{corollary}
\begin{proof}
  Since $J \neq k[X_1, \dotsc, X_n]$ there exists a maximal ideal $\mf{m} \subseteq k[X_1, \dotsc, X_n]$ with $J \subseteq \mf{m}$.
  By the weak Nullstellensatz we have $\mf{m} = \mf{m}_a$ for some $a \in k^n$.
  Therefore we have $f(a) = 0$ for every $f \in J \subseteq \mf{m}_a$.
  So $a \in \mc{V}(J)$ and thus $\mc{V}(J) \neq \emptyset$.
\end{proof}


\begin{corollary}
  IF $k$ is algebraically closed then $\mc{I}(\mc{V}(J)) = \rad J$ for every ideal $J \subseteq k[X_1, \dotsc, X_n]$.
\end{corollary}
\begin{proof}
  We fix an ideal $J \subseteq k[X_1, \dotsc, X_n]$.
  Because $k[X_1, \dotsc, X_n]$ is noetherian there exist $f_1, \dotsc, f_s \in k[X_1, \dotsc, X_n]$ with $J = (f_1, \dotsc, f_s)$.
  
  Let $f \in \rad J$.
  Then there exists some $m \in \Natural$ with $f^m \in J$.
  Thus $f^m(x) = 0$ for every $x \in \mc{V}(J)$ and therefore $f(x) = 0$ for every $x \in \mc{V}(J)$.
  So $f \in \mc{I}(\mc{V}(J))$.
  
  To show the other inclusion let $h \in \mc{I}(\mc{V}(J))$.
  We need to show that $h^m \in J$ for some $m \in \Natural$.
  For $h = 0$ this is clear, so we assume that $h \neq 0$.
  For this we use the Rabinowitsch trick:
  We adjoint a new variable $X_0$ to $k[X_1, \dotsc, X_n]$ and get $k[X_0, X_1, \dotsc, X_n]$.
  If $f_i(x) = 0$ for every $1 \leq i \leq s$ then $h(x) = 0$.
  Therefore $f_1, \dotsc, f_s$ and $1 - X_0 h$ have no common zeros.
  Hence
  \[
      \mc{V}((f_1, \dotsc, f_s, 1 - X_0 h))
    = \emptyset \,.
  \]
  By the Nullstellensatz we find that
  \[
      ( f_1, \dotsc, f_s, 1 - X_0 h )
    = k[X_0, X_1, \dotsc, X_n] \,.
  \]
  Therefore there exist $p_0, p_1 \ldots, p_s \in k[X_0, X_1, \dotsc, X_n]$ with
  \[
      1
    = p_0 (1 - X_0 h) + p_1 f_1 + \dotsb + p_s f_s \,.
  \]
  From this we get the equality
  \[
      1
    =   p_1 \left(\frac{1}{h}, X_1, \dotsc, X_n\right) f_1
      + \dotsb
      + p_s \left(\frac{1}{h}, X_1, \dotsc, X_n\right) f_s
  \]
  in $k(X_0, X_1, \dotsc, X_n)$ by setting $X_0 = 1 / h$.
  Multiplying both sides of the equation by a high enough power of $h$ we get
  \[
      h^m
    = q_1 f_1 + \dotsb + q_s f_s \,,
  \]
  for polynomials $q_1, \dotsc, q_s \in k[X_1, \dotsc, X_n]$, so $h^m \in J$.
\end{proof}


\begin{lemma}\label{lemma: finitely generated field extensions are algebraic}
  Let $L/k$ be a field extension.
  Assume $L$ is finitely generated as a $k$-algebra.
  Then $L/k$ is an algebraic field extension.
\end{lemma}
\begin{proof}
  The proof is an exercise on the $8$-th exercise sheet.
\end{proof}


\begin{remark}
  The field $k(X)$ is not finitely generated as a $k$-algebra
  \begin{proof}
    Assume $k(X)$ is generated by finitely many elements $f_1, \dotsc, f_s \in k(X)$ as a $k$-algebra. Note that every $f_i$ has only finitely many poles, so
    \[
      P \coloneqq \{x \in k \mid \text{$x$ is a pole of $f_i$ for some $1 \leq i \leq s$}\}
    \]
    is finite. Since $k$ is infinite there exists some $a \in k$ with $a \not\in P$. For every $f \in k[f_1, \dotsc, f_s] \subseteq k(X)$ we have
    \[
      \{\text{poles of $f$}\} \subseteq P \,,
    \]
      but $a$ is a pole of $1/(X-a)$. Therefore
    \[
      \frac{1}{X-a} \not\in k[f_1, \dotsc, f_s] \,.
      \qedhere
    \]
  \end{proof}
\end{remark}


We are now prepared to prove the weak Nullstellensatz.


\begin{proof}[Proof of the weak Nullstellensatz]
  We write $R \coloneqq k[X_1, \dotsc, X_n]$ and fix a maximal ideal $\mf{m} \subseteq R$.
  
  Since $\mf{m}$ is maximal we know that $R / \mf{m}$ is a field.
  Moreover $R / \mf{m}$ is finitely generated as a $k$-algebra (by the elements $X_1 + \mf{m}, \dotsc, X_n + \mf{m}$).
  By Lemma \ref{lemma: finitely generated field extensions are algebraic} we find that $R/\mf{m}$ is algebraic over $k$.
  Since $k$ is algebraically closed we have $R / \mf{m} = k$, i.e.\ the inclusion $k \to R / \mf{m}$, $a \mapsto a + \mf{m}$ is bijective.
  
  Now consider
  \[
            \can
    \colon  R \to R / \mf{m},
    \quad   f
    \mapsto f + \mf{m}
  \]
  and notice that $\ker \can = \mf{m}$.
  For all $1 \leq i \leq n$ let $a_i \coloneqq \can(X_i) \in k$.
  We then have $(X_i - a_i) \in \ker \mf{m}$ for all $1 \leq i \leq n$.
  We know that the ideal
  \[
              J
    \coloneqq ( (X_1 - a_1), \dotsc, (X_n - a_n) )_R
  \]
  is maximal.
  Since $J \subseteq \mf{m}$ we have $J = \mf{m}$.
\end{proof}


\begin{theorem}(Hilbert)
  Let $G$ be a group and $W$ a finite-dimensional representation of $G$ over $k$.
  Then $\mc{P}(W)$ is a representation of $G$ in the usual way (i.e.\ $(g.f)(w) = f\left( g^{-1}.w \right)$ for all $g \in G$, $f \in \mc{P}(W)$ and $w \in W$).
  Suppose that
  \[
      \mc{P}(W)
    = \bigoplus_{i \in I} L_i
  \]
  where $L_i \subseteq \mc{P}(W)$ is an irreducible representation of $G$ for all $i \in I$.
  Then $\mc{P}(W)^G$ is finitely generated as a $k$-algebra.
\end{theorem}


To prove this theorem we will use the following lemmata.


\begin{lemma}\label{lemma: technical lemma about generating}
  Let $A = \bigoplus_{d \geq 0} A_d$ be a graded $k$-algebra which is commutative.
  If the ideal $A^+ = \bigoplus_{d > 0} A_d$ is finitely generated over $A$ then $A$ is finitely generated as an $A_0$-algebra by homogeneous elements.
  (By this we mean that there are finitely many homogeneous elements $a_1, \dotsc, a_n \in A^+$ such that $A = A_0[a_1, \dotsc, a_n]$.)
\end{lemma}
\begin{proof}
  The proof is an exercise on the $7$-th exercise sheet.
\end{proof}


\begin{lemma}\label{lemma: projection reynold operator}
  Let $A$ be a commutative $k$-algebra and let $G$ be a group acting on $A$ by algebra automorphisms.
  In particular, $A$ is a representation of $G$.
  Assume that $A = \bigoplus_{i \in I} L_i$ where $L_i \subseteq A$ is an irreducible subrepresentation of $G$ for all $i \in I$.
  Let
  \[
              J
    \coloneqq \{
                i \in I
              \mid
                      L_i
                \cong k
                \text{ as representations of $G$}
              \}.
  \]
  \begin{enumerate}[label=\emph{\alph*)},leftmargin=*]
    \item
      We have
      \[
          A^G
        = \bigoplus_{j \in J} L_j \,.
      \]
    \item
      We have $A = A^G \oplus N$ where $N = \bigoplus_{i \in I \setminus J} L_i$. For the projection
      \[
                \pi
        \colon  A
        \to     A^G
      \]
      along this decomposition we have
      \[
          \pi(hf)
        = h\pi(f)
        \text{ for all }
        h \in A^G,
        f \in A \,.
      \]
  \end{enumerate}
\end{lemma}
\begin{proof}
  The proof is an exercise on the $7$-th exercise sheet.
\end{proof}


\begin{proof}[Proof of the Theorem]
  We write $A \coloneqq \mc{P}(W)$. By Lemma \ref{lemma: projection reynold operator} we can decompose
  \[
      A
    = A^G \oplus N
  \]
  as representations of $G$, and the projection
  \[
            \pi
    \colon  A
    \to     A^G
  \]
  is $G$-equivariant with
  \[
     \pi(h)
    = h
    \text{ for all }
    h \in A^G
  \]
  and
  \[
      \pi(hf)
    = h\pi(f)
    \text{ for all }
    h \in A^G,
    f \in A \,.
  \]
  
  It is clear that $A^G \subseteq A$ is a $k$-subalgebra.
  Let $I \subseteq A^G$ be an ideal. Then
  \begin{equation}\label{eqn: reynold ideal}
      \pi(A I)
    = \pi(I A)
    = I \pi(A)
    = I A^G
    = I \,.
  \end{equation}
  Now consider the special case $I = \mf{m}_0 \coloneqq A^G_+$ where
  \[
              A^G_+
    \coloneqq \bigoplus_{d > 0} A^G_d \,.
  \]
  To see that $A^G_+$ is an $A^G$-ideal notice that $A_+ \coloneqq \bigoplus_{i > 0} A_d$ is an $A$-ideal and that $A^G = \bigoplus_{d \geq 0} A^G_d$ and therefore
  \[
              A^G A^G_+
    =         A^G \left( A^G \cap A_+ \right)
    \subseteq A^G \cap A^G A_+
    \subseteq A^G \cap A A_+
    \subseteq A^G \cap A^+
    =         A^G_+ \,.
  \]
  
  Let $A \mf{m}_0$ be the ideal in $A$ generated by $\mf{m}_0$.
  Because $A = \mc{P}(W)$ is noetherian there exists $f_1, \dotsc, f_n \in \mf{m}_0$ with
  \[
      A \mf{m}_0
    = (f_1, \dotsc, f_n)_A \,.
  \]
  By \eqref{eqn: reynold ideal} we find that $\mf{m}_0$ is generated by $f_1, \dotsc, f_s$ as in $A^G$-module because
  \begin{align*}
      \mf{m}_0
    = \pi(A \mf{m_0})
    = \pi( (f_1, \dotsc, f_s)_A )
    = \left( f_1, \dotsc, f_s \right)_{A^G} \,.
  \end{align*}
  Since $\mf{m}_0$ is finitely generated as an $A$-module we find by by Lemma \ref{lemma: technical lemma about generating} that $A$ is finitely generated as a $A_0^G$-algebra, where $A_0^G = A_0 = k$.
\end{proof}
