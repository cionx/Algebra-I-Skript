\subsection{Generalizations to Infinite Direct Sums}


\begin{conventions}
  In the following $(M_i)_{i \in I}$ and $(N_i)_{i \in I}$ denote two-families of $R$-modules and $M$ denotes an $R$-module.
\end{conventions}


\begin{proposition}
  \leavevmode
  \begin{enumerate}
    \item
      The following conditions are equivalent:
      \begin{enumerate}
        \item
          Every homomorphism of $R$-modules $f \colon \bigoplus_{i \in I} M_i \to \bigoplus_{i \in I} N_i$ restricts for every $i \in I$ to a homomorphism $f_i \colon M_i \to N_i$.
        \item
          For all $i, j \in I$ with $i \neq j$ it holds that $\Hom_R(M_i, N_j) = 0$.
      \end{enumerate}
    \item
      If one (and thus both) of the above two conditions are satisfied, then the map
      \[
                \Hom_R\left( \bigoplus_{i \in I} M_i, \bigoplus_{i \in I} N_i \right)
        \to     \prod_{i \in I} \Hom_R(M_i, N_i),
        \quad   f
        \mapsto (f_i)_{i \in I}
      \]
      is an isomorphism of abelian groups.
      If $R$ is a $k$-algebra then it is an isomorphism of $k$-vector spaces.
    \qed
  \end{enumerate}
\end{proposition}


\begin{corollary}
  \label{corollary: decomposition of endomorphism ring into product}
  \leavevmode
  \begin{enumerate}
    \item
      The following conditions are equivalent:
      \begin{enumerate}
        \item
          Every endomorphism of $R$-modules $f \colon \bigoplus_{i \in I} M_i \to \bigoplus_{i \in I} M_i$ restricts for every $i \in I$ to an endomorphism $f_i \colon M_i \to M_i$.
        \item
          For all $i, j \in I$ with $i \neq j$ it holds that $\Hom_R(M_i, M_j) = 0$.
      \end{enumerate}
    \item
      If one (and thus both) of the above two conditions are satisfied, then the map
      \[
                \End_R\left( \bigoplus_{i \in I} M_i \right)
        \to     \prod_{i \in I} \End_R(M_i),
        \quad   f
        \mapsto (f_i)_{i \in I}
      \]
      is an isomorphism of rings.
      If $R$ is a $k$-algebra then it is an isomorphism of $k$-algebras.
    \qed
  \end{enumerate}
\end{corollary}


\begin{corollary}
  \label{corollary: decomposition of endomorphism ring into product including sums}
  If $\Hom_R(M_i, M_j) = 0$ for all $i \neq j$ then for all index sets $J_i$, $i \in I$ the map
  \[
            \End\left( \bigoplus_{i \in I} M_i^{\oplus J_i} \right)
    \to     \prod_{i \in I} \End( M_i^{\oplus J_i} ) \,,
    \quad   f
    \mapsto \left( \restrict*{f}{M_i^{\oplus J_i}} \right)_{i \in I}
  \]
  is a well-defined isomorphism of rings.
  If $R$ is a $k$-algebra, then it is an isomorphism of $k$-algebras.
  \qed
\end{corollary}


\begin{fluff}
  For every $i \in I$ let $\iota_i \colon M_i \to \bigoplus_{i' \in I} M_{i'}$ be the inclusion of the $i$-th summand, and for every $i \in I$ let $\pi_i \colon \bigoplus_{i' \in I} N_{i'} \to N_i$ be the projection onto the $i$-th summand.
\end{fluff}


\begin{lemma}
  \label{lemma: hom is additive for fg modules}
  For every $R$-module homomorphism $f \colon M \to \bigoplus_{i \in I} N_i$ let $f_i \defined \pi_i \circ f$ be the $i$-th component of $f$.
  If $M$ is finitely generated, then the map
  \[
            \Hom_R\left( M, \bigoplus_{i \in I} N_i \right)
    \to     \bigoplus_{i \in I} \Hom_R(M, N_i),
    \quad   f
    \mapsto (f_i)_{i \in I}
  \]
  is a well-defined isomorphism of abelian groups.
  If $R$ is a $k$-algebra then it is an isomorphism of $k$-vector spaces.
\end{lemma}


\begin{proof}
  We denote the given map by $\Phi$.
  It sufficies to show that $\Phi$ is well-defined because its inverse is then given by the map $\Psi$ with
  \[
      \Psi((f_i)_{i \in I})(m)
    = ( f_i(m) )_{i \in I}
  \]
  for all $(f_i)_{i \in I} \in \bigoplus_{i \in I} \Hom(M, M_i)$ and $m \in M$.
  
  Let $x_1, \dotsc, x_n \in M$ be a finite generating set.
  The set
  \[
              I'_j
    \defined \{
                i' \in I
              \suchthat
                f_{i'}(x_j) \neq 0
              \}
  \]
  is finite for every $j = 1, \dotsc, n$ and it follows that $I' \defined \bigcup_{j=1}^n I'_j$ is finite.
  For every $i \in I$ with $i \notin I'$ we have that $f_i(x_j) = 0$ for every $j = 1, \dotsc, n$ and therefore $f_i(m) = 0$ for every $m \in M$.
  This shows that $f_i = 0$ for every $i \in I$ with $i \notin I'$.
\end{proof}


\begin{definition}
  \label{definition: infinite matrices}
  Let $I, J$ be index sets.
  \begin{itemize}
    \item
      Let $(X_{ij})_{i \in I, j \in J}$ be a family of sets.
      The space of all $(I \times J)$-matrices whose $(ij)$-th entry is contained in $X_{ij}$ is denoted by
      \[
          \Mat( X_{ij} \suchthat i \in I, j \in J)
        = \{
            (A_{ij})_{i \in I, j \in J}
          \suchthat
            \text{$A_{ij} \in X_{ij}$ for all $i \in I$, $j \in J$}
          \} \,.
      \]
    \item
      Let $(C_{ij})_{i \in I, j \in J}$ be a family of abelian groups.
      A matrix $A \in \Mat( C_{ij} \suchthat i \in I, j \in J)$ is \emph{column finite} if for every column index $j \in J$ there exist only finitely many $i \in I$ with $A_{ij} \neq 0$.
      The space of all such matrices is denoted by
      \[
                  \Mat^{\cf}( C_{ij} \suchthat i \in I, j \in J )
        \defined  \left\{
                    A \in \Mat( C_{ij} \suchthat i \in I, j \in J )
                  \suchthat*
                    \text{$A$ is column finite}
                  \right\}.
      \]
    \item
      If $C$ is an abelian group then we abbreviate
      \begin{align*}
                  \Mat(I \times J, C)
        &\defined \Mat( C \suchthat i \in I, j \in J ) \,,  
        \\
                  \Mat^{\cf}(I \times J, C)
        &\defined \Mat^{\cf}( C \suchthat i \in I, j \in J ) \,,
        \\
                  \Mat_I(C)
        &\defined \Mat(I \times I, C) \,,
        \\
                  \Mat^{\cf}_I(C)
        &\defined \Mat^{\cf}(I \times I, C) \,.
      \end{align*}
  \end{itemize}
  The notion of a \emph{row finite} $(I \times J)$-matrix is defined similarly, and instead of ${}^\cf$ the supscript ${}^\rf$ is used.
\end{definition}


\begin{lemma}
  \label{lemma: structure on infinite matrices}
  Let $I, J$ be index sets
  \begin{enumerate}
    \item
      If $(C_{ij})_{i \in I, j \in J}$ is a family of abelian groups then $\Mat(C_{ij} \suchthat i \in I, j \in J)$ is an abelian group via entrywise addition of matrices, and $\Mat^{\cf}(C_{ij} \suchthat i \in I, j \in J)$ is a subgroup of $\Mat(C_{ij} \suchthat i \in I, j \in J)$.
    \item
      If $(V_{ij})_{i \in I, j \in J}$ is a family of $k$-vector spaces then $\Mat(V_{ij} \suchthat i \in I, j \in J)$ is a $k$-vector space via entrywise addition of matrices, and $\Mat^{\cf}(C_{ij} \suchthat i \in I, j \in J)$ is a $k$-linear subspace of $\Mat(C_{ij} \suchthat i \in I, j \in J)$.
    \item
      If $R$ is a ring then the column finite square matrices $\Mat^{\cf}_I(R)$ become a ring when endowed with entrywise addition and the usual matrix multiplication, i.e.\
      \[
          (A \cdot B)_{ik}
        = \sum_{j \in I} A_{ij} B_{jk}
      \]
      for all $A, B \in \Mat^{\cf}_I(R)$ and all $i, k \in I$.
      If $R$ is a $k$-algebra then this makes $\Mat^{\cf}_I(R)$ into a $k$-algebra.
  \end{enumerate}
  The analogous results for row finite matrices also hold.
  \qed
\end{lemma}


\begin{corollary}
  For every homomorphis of $R$-modules $f \colon \bigoplus_{i \in I} M_i \to \bigoplus_{i \in I} N_i$ let
  \[
              f_{ij}
    \defined  \pi_i \circ f \circ \iota_j
    \colon    M_j
    \to       N_i
  \]
  be its $(ij)$-th component for all $i, j \in I$.
  If $M_i$ is finitely generated for every $i \in I$, then the map
  \[
            \Hom_R\left( \bigoplus_{i \in I} M_i, \bigoplus_{i \in I} N_i \right)
    \to     \Mat^{\cf}\left( \Hom_R(M_i, N_j) \suchthat i,j \in I \right),
    \quad   f
    \mapsto (f_{ij})_{i \in I, j \in J}
  \]
  is a well-defined isomorphism of abelian groups.
  If $R$ is a $k$-algebra then it is an isomorphism of $k$-vector spaces.
  \qed
\end{corollary}


\begin{corollary}
  \label{corollary: endomorphism ring of sum power of fg module}
  For every endomorphism of $R$-modules $f \colon M^{\oplus I} \to M^{\oplus I}$ let
  \[
              f_{ij}
    \defined  \pi_i \circ f \circ \iota_j
    \colon    M
    \to       M
  \]
  be its $(ij)$-th component for all $i, j \in I$.
  If $M$ is finitely generated then the map
    \[
            \End_R\left( M^{\oplus I} \right)
    \to     \Mat^{\cf}_I( \End_R(M) )
    \quad   f
    \mapsto (f_{ij})_{i \in I, j \in J}
  \]
  is an isomorphism of rings.
  If $R$ is a $k$-algebra then it is an isomorphism of $k$-algebras.
  \qed
\end{corollary}




