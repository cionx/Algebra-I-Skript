\section{Graded and Filtered \texorpdfstring{$k$}{k}-Algebras}





\subsection{Graded Algebras}

\begin{definition}
  A \emph{grading} of a $k$-algebra $A$ is a decomposition $A = \bigoplus_{d \in \Natural} A_d$ into $k$-linear subspaces $A_d \subseteq A$ such that $A_i A_j \subseteq A_{i+j}$ for all $i,j \in \Natural$.
  A \emph{graded $k$-algebra} is a $k$-algebra $A$ together with a grading $A = \bigoplus_{d \in \Natural} A_d$.
  The summand $A_d$ is then the \emph{homogeneous part of degree $d$ of $A$} and the elements $x \in A_d$ are \emph{homogeneous of degree $d$}.
  
  A \emph{grading} of a ring $R$ is a decomposition $R = \bigoplus_{d \in \Natural} R_d$ into additive subgroups $R_d \subseteq R$ such that $R_i R_j \subseteq R_{i+j}$ for all $i,j \in \Natural$.
  A \emph{graded ring} is a ring $R$ together with a grading of $R$.
  The \emph{homogeneous parts} and \emph{homogeneous elements} of $R$ are defined as above.
\end{definition}

\begin{remark}
  \leavevmode
  \begin{enumerate}
    \item
      Every graded $k$-algebra is also a graded ring, as every $k$-linear subspace $A_d \subseteq A$ is in particular an additive subgroup.
    \item
      If $R$ is graded ring then $1 \in R_0$:
      
      There exists a decomposition $1 = \sum_{d \in \Natural} e_d$ with $e_d \in R_d$ for every $d \in \Natural$.
      For every homogeneous Element $x \in R_{d'}$ we then have that
      \[
            R_{d'}
        \ni x
        =   x \cdot 1
        =   x \cdot \sum_{d \in \Natural} e_d
        =   \sum_{d \in \Natural} \underbrace{x e_d}_{\in R_{d+d'}} \,,
      \]
      so that $x e_d = 0$ for every $d \neq 0$ and $x e_0 = x$.
      It follows that $x e_0 = x$ for every $x \in R$, as every such $x$ is a sum of homogeneous elements.
      Hence $e_0$ is the multiplicative neutral element of $R$, so that $1 = e_0 \in R_0$.
    \item
      If $A$ is a graded ring which is also a $k$-algebra, then $A$ is a graded algebra with respect to the given grading if and only if $A_0$ contains the linear space $\gen{1}_k$:
      If $A$ is a graded $k$-algebra then it follows from $1 \in A_0$ that $\gen{1}_k \subseteq A_0$.
      If on the other hand $k1 = \gen{1}_k \subseteq A_0$ then
      \[
                  k A_d
        =         k 1 A_d
        \subseteq A_0 A_d
        \subseteq A_d
      \]
      for every $d \in \Natural$, so that the additive subgroup $A_d$ is already a $k$-linear subspace.
  \end{enumerate}
\end{remark}


\begin{remark}
  \label{remark: general definition of degree}
  If $A$ is a graded algebra with grading $A = \bigoplus_{d \in \Natural} A_d$ then can more generally define for every non-zero $x \in A$ with homogeneous decomposition $x = \sum_{d \in \Natural} x_d$ the \emph{degree of $x$} as the maximal $d \in \Natural$ with $x_d \neq 0$.
  If $x$ is homogeneous, then the degree of $x$ coincides with its homogeneous degree.
\end{remark}


\begin{example}
  \leavevmode
  \begin{enumerate}
    \item
      Every $k$-algebra $A$ can be given a grading $(A_d)_{d \in \Natural}$ with $A_0 = A$ and $A_d = 0$ otherwise.
    \item
      Let $k$ be a field (resp.\ ring) and let $A \defined k[X_1, \dotsc, X_n]$.
      For every $d \in \Natural$ let $A_d \subseteq A$ be given by
      \[
                  A_d 
        \defined  \gen
                  {
                    X_1^{\alpha_1} \dotsm X_n^{\alpha_n}
                  \,\middle|\,
                    \sum_{i=1}^n a_i = d \,
                  }_{\!k} \,.
      \]
      This defined a grading for $A$:
      
      Note that $A_d$ is a $k$-linear subspace, resp.\ additive subgroup of $A$ by definition.
      Because the monomials $X_1^{\alpha_1} \dotsm X_n^{\alpha_n}$ with $\alpha_1, \dotsc, \alpha_n \geq 0$ form a $k$-basis of $A$ we find that $A = \bigoplus_{d \in \Natural} A_d = \bigoplus_{d \in \Natural} A_d$.
      For all monomials $X^{\alpha_1} \dotsm X^{\alpha_n} \in A_i$, $X^{\beta_1} \dotsm X^{\beta_n} \in A_j$ we have that
      \[
            ( X_1^{\alpha_1} \dotsm X_n^{\alpha_n} )
            ( X_1^{\beta_1} \dotsm X_n^{\beta_n} )
        =   X_1^{\alpha_1+\beta_1} \dotsm X_n^{\alpha_n+\beta_n}
        \in A_{i+j} 
      \]
      because $\sum_{l=1}^n (\alpha_l + \beta_l) = (\sum_{l=1}^n \alpha_l) + (\sum_{l=1}^n \beta_l) = i + j$.
      By the $k$-bilinearity of the multiplication of $A$ it follows that $A_i A_j \subseteq A_{i+j}$ for all $i,j \in \Natural$.
      
      Note that the degree of any non-zero polynomial $f \in k[X_1, \dotsc, X_n]$ with respect to this graduation (as defined in Remark~\ref{remark: general definition of degree}) coincides with its total degree.
    \item
      Let $V$ be a $k$-vector space.
      For every $d \geq 0$ we denote by $V^{\otimes d}$ the $d$-th tensor power of $V$.
      Recall that $V^{\otimes 0} = k$.
      
      For all $p, q \in \Natural$ there exists a unique $k$-bilinear map $V^{\otimes p} \times V^{\otimes q} \to V^{\otimes(p+q)}$, $(x, y) \mapsto x \cdot y$ which is given on simple tensors by
      \[
          (v_{i_1} \otimes \dotsb \otimes v_{i_p}) \cdot (v_{j_1} \otimes \dotsb \otimes v_{j_q})
        = v_{i_1} \otimes \dotsb \otimes v_{i_p} \otimes v_{j_1} \otimes \dotsb \otimes v_{j_q}
      \]
      for all $v_{i_1}, \dotsc, v_{i_p}, v_{j_1}, \dotsc, v_{j_q} \in V$.
      The \emph{tensor algebra \textup(over $V$\textup)} is given by the $k$-vector space $T(V) \defined \bigoplus_{d \in \Natural} V^{\otimes d}$ together with the unique $k$-bilinear extension $T(V) \times T(V) \to V$ of the above multiplications.
      The decomposition $T(V) = \bigoplus_{d \in \Integer} V^{\otimes d}$ is then a grading of $T(V)$.
  \end{enumerate}
\end{example}


\begin{remark}
  Given two graded $k$-algebras $A$ and $B$ with gradings $A = \bigoplus_{d \in \Natural} A_d$ and $B = \bigoplus_{d \in \Natural} B_d$ a \emph{morphism of graded $k$-algebras $A \to B$} is a homomorphism of $k$-algebras $f \colon A \to B$ with $f(A_d) \subseteq B_d$ for every $d \in \Natural$.
  
  For every graded $k$-algebra $A$ the identity $\id_A \colon A \to A$ is a morphism of graded $k$-algebras, and for any two composable morphisms of graded $k$-algebras $f \colon A \to B$ and $g \colon B \to C$ their composition $g \circ f \colon A \to C$ is again a morphism of graded $k$-algebras.
  
  It follows that the class of graded $k$-algebras together with the morphisms of graded $k$-algebras forms a category $\cgrAlg{k}$.
\end{remark}






\subsection{Filtered Algebras}

\begin{remark}
  Instead of the natural numbers $\Natural$ one can also define gradings over an arbitrary monoids $(M, \cdot)$.
\end{remark}


\begin{definition}
  Let $A$ be a $k$-algebra.
  A \emph{filtration of $A$} is a (possibly infinite) sequence $F$ of $k$-linear subspaces
  \[
              0
    =         F_{-1}(A)
    \subseteq F_0(A)
    \subseteq F_1(A)
    \subseteq F_2(A)
    \subseteq \dotsb
    \subseteq A
  \]
  such that $A = \bigcup_{d \geq -1} F_d(A)$, $1 \in F_0(A)$ and
  \[
              F_i(A) F_j(A)
    \subseteq F_{i+j}(A)
  \]
  for all $i, j$.
  A \emph{filtered $k$-algebra} is a $k$-algebra $A$ together with a filtration of $A$.
\end{definition}


\begin{remark}
  The condition $F_{-1}(A) = 0$ is not terribly interesting.
  We only use this convention to later form the quotients $F_d(A) / F_{d-1}(A)$ for all $d \in \Natural$ without having to worry about the case $d = 0$.
\end{remark}


\begin{example}
  Let $A$ be a $k$-algebra.
  \begin{enumerate}
    \item
      \label{enumerate: grading leads to filtration}
      Every grading $A = \bigoplus_{d \in \Natural} A_d$ of $A$ leads to a filtration $F$ of $A$ which is given by $F_d(A) \defined \bigoplus_{i=0}^d A_i$ for every $d$.
    \item
      By considering the grading $A_0 = A$ and $A_d = 0$ for $d \geq 1$ it follows that $A$ carries a filtration $F$ given by $F_d(A) = A$ for every $d \geq 0$.
    \item
      Let $A$ be a filtered $k$-algebra with filtration $F$, and let $I \subseteq A$ be an ideal.
      Then the quotient algebra $A/I$ inherits a filtration $F'$ given by $F'_d \defined \pi(F_d)$ for every $d$, where $\pi \colon A \to A/I$ denotes the canonical projection.
  \end{enumerate}
\end{example}


\begin{remark}
  Given two filtered $k$-algebras $A$ and $B$ with filtrations $F$ and $G$ a \emph{morphism of filtered $k$-algebras $A \to B$} is a homomorphism of $k$-algebras $f \colon A \to B$ with $f(F_d(A)) \subseteq G_d(B)$ for every $d$.
  
  For every filtered $k$-algebra $A$ the identity $\id_A \colon A \to A$ is a morphism of filtered $k$-algebras, and for any two composable morphisms of filtered $k$-algebras $f \colon A \to B$ and $g \colon B \to C$ their composition $g \circ f \colon A \to C$ is again a morphism of filtered $k$-algebras.
  
  It follows that the class of filtered $k$-algebras together with the morphisms of filtered $k$-algebras forms a category $\cfiltAlg{k}$.
\end{remark}


\begin{example}
  Let $A$, $B$ be graded $k$-algebras with gradings $A = \bigoplus_{d \in \Natural} A_d$ and $B = \bigoplus_{d \in \Natural} B_d$, and let $F$ and $G$ be the associated filtrations given by $F_d(A) = \bigoplus_{i=0}^d A_i$ and $G_d(B) = \bigoplus_{i=0}^d B_i$ for every $d \in \Natural$.
  Then every morphism $f \colon A \to B$ of graded $k$-algebras is also a morphism of filtered $k$-algebras.
  
  We therefore get a (faithful) functor $\cgrAlg{k} \to \cfiltAlg{k}$.
\end{example}


\begin{fluff}
  Let $A$ be a $k$-algebra.
  Then the previous example \ref{enumerate: grading leads to filtration} shows that every grading of $A$ leads to a filtration of $A$.
  But not all filtration of $A$ need to arise in this way. % TODO: citation needed
  
  If $A$ is a filtered algebra with filtration $F$, then there is also no good way to assign a “corresponding” grading of $A$. % TODO: citation needed
  It is, however, possible to construct a graded algebra $\gr_F(A)$ as follows:
  
  For every $d \geq 0$ let
  \[
              \gr_F(A)_d
    \defined  F_d(A) / F_{d-1}(A) \,,
  \]
  and let $\gr_F(A) \defined \bigoplus_{d \geq 0} \gr_F(A)_d$.
  For every $d \in \Natural$, $x \in F_d(A)$ we denote the residue class of $x$ in $\gr_F(A)_d$ by $[x]_d$.
  Note that for every $x \in A$, $x \neq 0$ there exists some minimal $d \in \Natural$ with $x \in F_d(A)$.
  Then $[x]_{d'}$ is not defined for $d' < d$, $[x]_d \neq 0$ and $[x]_{d'} = 0$ for every $d' > d$.
  
  For $[x]_i \in \gr_F(A)_i$ and $[y]_j \in \gr_F(A)_j$ we define their product as
  \[
              [x]_i \cdot [y]_j
    \defined  [xy]_{i+j}
    \in       \gr_F(A)_{i+j} \,.
  \]
  This product is well-defined:
  If $[x]_i = [x']_i$ and $[y]_j = [y']_j$ for some $x, x' \in F_i(A)$ and $y, y' \in F_j(A)$, then $x - x' \in F_{i-1}(A)$ and $y - y' \in F_{j-1}(A)$, so that
  \begin{align*}
          xy - x'y'
    &=    xy - xy' + xy' - x'y' \\
    &=    x(y-y') + (x-x')y
     \in  F_{i+j-1}(A) + F_{i-1+j}(A)
     =    F_{i+j-1}(A)
  \end{align*}
  and therefore $[xy]_{i+j} = [x'y']_{i+j}$.
  By putting all these multiplications together we arrive at a multiplication $\gr_F(A) \times \gr_F(A) \to \gr_F(A)$.
  This multiplication is $k$-bilinear, associative and distributive, as can be checked on (homogeneous) representatives.
  For $[1]_0 \in \gr_F(A)_0$ we have for every $[x]_i \in \gr_F(A)_i$ that
  \[
        [1]_0 \cdot [x]_i
    =   [1 \cdot x]_{0+i}
    =   [x]_i \,.
  \]
  As every element of $\gr_F(A)$ is the sum of such homogeneous elements it follows that $[1]_0$ is a multiplicative identity for $\gr_F(A)$.
  Alltogether this shows that $\gr_F(A)$ is a $k$-algebra.
  The decomposition $\gr_F(A) = \bigoplus_{d \geq 0} \gr_F(A)_d$ is a grading of $\gr_F(A)$ by construction of the multiplication of $\gr_F(A)$.
  
  The algebra $\gr_F(A)$ is the \emph{associated graded algebra} of the filtered algebra $A$.
  The filtration $F$ may be surpressed from the notation, writting $\gr(A)$ instead of $\gr_F(A)$.
\end{fluff}


\begin{example}
  Let $A$ be a graded $k$-algebra and let $F_d(A) = \bigoplus_{i=0}^d A_i$ be the induced filtration.
  Then
  \[
          \gr_F(A)_d
    =     \left.
            \left( \bigoplus_{i=0}^d A_i \right)
          \middle/
            \left( \bigoplus_{i=0}^{d-1} A_i \right)
          \right.
    \cong A_d
  \]
  for all $d \in \Natural$, and the induced multiplication $\gr_F(A)_i \times \gr_F(A)_j \to \gr_F(A)_{i+1}$ corresponds to the original multiplication $A_i \times A_j \to A_{i+j}$ for all $i, j \in \Natural$.
  Hence $\gr_F(A)$ is nothing but the orginal graded algebra $A$.
\end{example}


\begin{remark}
  Let $A$ and $B$ be filtered $k$-algebras with filtrations $F$ and $G$.
  Let $f \colon A \to B$ be a morphism of filtered $k$-algebras.
  Then $f(F_d(A)) \subseteq G_d(B)$ for every $d$, so that $f$ induces for every $d \geq 0$ an $k$-linear map
  \begin{align*}
            f_d
    \colon  \gr_F(A)_d
    =       \gr_G(B)_d \,,
    \quad   [x]_d
    \mapsto [f(x)]_d \,.
  \end{align*}
  By putting all of these maps together, we arriven at a linear map
  \[
            \gr(f)
    \colon  \gr(A)
    \to     \gr(B) \,.
  \]
  For $[x]_i \in \gr(A)_i$ and $[y]_j \in \gr(B)_j$ we have that
  \begin{align*}
        f_i([x]_i) f_j([y_j])
    &=  [f(x)]_i [f(y)]_j
     =  [f(x) f(y)]_{i+j} \\
    &=  [f(xy)]_{i+j}
     =  f_{i+j}([xy]_{i+j})
     =  f_{i+j}([x]_i [y]_j) \,.
  \end{align*}
  Hence $\gr(f)$ is multipliative on homogeneous elements, and thus multiplicative as a whole.
  We also have that
  \[
      f_0([1_A]_0)
    = [f(1_A)]_0
    = [1_B]_0 \,,
  \]
  so that $\gr(f)(1_{\gr(A)}) = 1_{\gr(B)}$.
  Alltogether this shows that $\gr(f)$ is a $k$-algebra homomorphism.
  It respects the gradings of $\gr(A)$ and $\gr(B)$ by construction, and thus is a morphism of graded $k$-algebras.
  
  For every filtered $k$-algebra $A$ we have that $\gr(\id_A) = \id_{\gr(A)}$, and for any two composable morphisms of filtered $k$-algebras $f \colon A \to B$ and $g \colon B \to C$ we have that $\gr(g \circ f) = \gr(g) \circ \gr(f)$.
  
  Alltogether this shows that $\gr$ defined a functor $\cfiltAlg{k} \to \cgrAlg{k}$.
\end{remark}


\begin{example}
  % TODO: Rework this example.
  Consider the polynomial ring $k[x]$ for some field $k$.
  Then the multiplication with $x$ defines an element of $\End_k(k[x])$, which we will denote by $X$.
  Let $\partial \defined \partial/\partial x \in \End_k(k[X])$ be the (formal) derivative with respect to $x$.
  
  Consider the subalgebra $\mc{A}_1$ of $\End_k(k[X])$ generated by the two elements $X$ and $\partial$.
  Then
  \[
          \mc{A}_1
    \cong k{\gen{X,\partial}}/ (\partial X - X \partial - 1)
  \]
  where $k{\gen{X,\partial}}$ denotes the free algebra on the two generators $X$ and $\partial$ and $(\partial X - X \partial - 1)$ the generated two-sided ideal.
  The images of the monomials $X^\alpha \partial^\beta$, $\alpha, \beta \in \Natural$ under this isomorphism form a $k$-basis of $\mc{A}_1$.
  We can then define
  \[
              F_i(\mc{A}_1)
    \defined \gen{ \text{images of $X^\alpha \partial^\beta$ where $\alpha+\beta \leq i$} \, }_k \,,
  \]
  which gives us a filtration of $\mc{A}_1$.
  (We leave the proof of this claims as an exercise to the reader.
   Some of them will appear on the exercise sheets.)
\end{example}
